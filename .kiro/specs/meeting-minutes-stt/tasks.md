# Implementation Plan

## Overview

meeting-minutes-stt (MVP1) ã¯ã€meeting-minutes-core (Walking Skeleton) ã§ç¢ºç«‹ã—ãŸ3ãƒ—ãƒ­ã‚»ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã«å®Ÿéš›ã®éŸ³å£°å‡¦ç†æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚Fakeå®Ÿè£…ã‚’å®ŸéŸ³å£°å‡¦ç†ã«ç½®ãæ›ãˆã€faster-whisperã«ã‚ˆã‚‹é«˜ç²¾åº¦æ–‡å­—èµ·ã“ã—ã¨webrtcvadã«ã‚ˆã‚‹éŸ³å£°æ´»å‹•æ¤œå‡ºã‚’å®Ÿç¾ã—ã¾ã™ã€‚

**å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: TDD (Test-Driven Development) ã«åŸºã¥ãã€å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«ä½œæˆã—ã€å®Ÿè£…ã‚’è‚‰ä»˜ã‘ã—ãªãŒã‚‰ãƒ†ã‚¹ãƒˆã‚’ç·‘åŒ–ã—ã¾ã™ã€‚ã‚¹ã‚±ãƒ«ãƒˆãƒ³â†’ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆâ†’çµ±åˆãƒ†ã‚¹ãƒˆâ†’E2Eãƒ†ã‚¹ãƒˆã®é †ã§æ®µéšçš„ã«å®Ÿè£…ã—ã¾ã™ã€‚

**é‡è¦ãªè¨­è¨ˆæ±ºå®š**:
- ADR-001: éŒ²éŸ³è²¬å‹™ã®ä¸€å…ƒåŒ–ï¼ˆRustå´AudioDeviceAdapterã®ã¿ã€Pythonå´éŒ²éŸ³ç¦æ­¢ï¼‰
- ADR-002: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ¢ãƒ‡ãƒ«é…å¸ƒæˆ¦ç•¥ï¼ˆHuggingFace Hub + ãƒãƒ³ãƒ‰ãƒ«baseãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
- ADR-003: IPCãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼ˆå¾Œæ–¹äº’æ›æ€§ä¿è¨¼ï¼‰

---

## Implementation Tasks

- [x] 1. åŸºç›¤æ•´å‚™ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæº–å‚™
  - Pythonä¾å­˜é–¢ä¿‚ã®è¿½åŠ ï¼ˆfaster-whisperã€webrtcvadã€numpyï¼‰
  - Rustä¾å­˜é–¢ä¿‚ã®è¿½åŠ ï¼ˆcpalï¼‰
  - é™çš„è§£æã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å‹•ä½œç¢ºèªï¼ˆcheck_forbidden_imports.pyï¼‰
  - é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¤œè¨¼ï¼ˆPython 3.9-3.12ã€Rust 1.70+ï¼‰
  - _Requirements: å…¨è¦ä»¶, STT-REQ-LOG-001_

- [ ] 2. å®ŸéŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆRustå´ï¼‰
- [x] 2.1 AudioDeviceAdapter trait ã¨OSåˆ¥å®Ÿè£…ã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆ
  - å¤±æ•—ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆãƒ‡ãƒã‚¤ã‚¹åˆ—æŒ™ã€éŒ²éŸ³é–‹å§‹/åœæ­¢ï¼‰
  - AudioDeviceAdapter traitã®å®šç¾©
  - WasapiAdapterï¼ˆWindowsï¼‰ã€CoreAudioAdapterï¼ˆmacOSï¼‰ã€AlsaAdapterï¼ˆLinuxï¼‰ã®ç©ºå®Ÿè£…
  - OSæ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ã¨ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼é¸æŠæ©Ÿèƒ½
  - _Requirements: STT-REQ-001.1, STT-REQ-001.2, STT-REQ-004.3, STT-REQ-004.4, STT-REQ-004.5_

- [x] 2.2 ãƒ‡ãƒã‚¤ã‚¹åˆ—æŒ™æ©Ÿèƒ½ã®å®Ÿè£…
  - ãƒ‡ãƒã‚¤ã‚¹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½ï¼ˆåå‰ã€IDã€ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã€ãƒãƒ£ãƒ³ãƒãƒ«æ•°ï¼‰
  - OSå›ºæœ‰éŸ³å£°APIçµ±åˆï¼ˆWASAPIã€CoreAudioã€ALSAï¼‰
  - ãƒ‡ãƒã‚¤ã‚¹ä¸€è¦§ã®ã‚½ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-001.1, STT-REQ-001.2_

- [x] 2.3 éŸ³å£°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚­ãƒ£ãƒ—ãƒãƒ£æ©Ÿèƒ½ã®å®Ÿè£…
  - 16kHz mono PCMéŸ³å£°ã‚¹ãƒˆãƒªãƒ¼ãƒ é–‹å§‹æ©Ÿèƒ½ï¼ˆåŸºæœ¬å®Ÿè£…å®Œäº†ã€ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¯2.4ã§å¯¾å¿œï¼‰
  - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‹éŸ³å£°ãƒ‡ãƒ¼ã‚¿å‡¦ç†æ©Ÿèƒ½ï¼ˆAudioChunkCallbackï¼‰
  - åˆ¥ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ç®¡ç†ï¼ˆSyncåˆ¶ç´„å›é¿ï¼‰
  - CoreAudio/WASAPI/ALSAçµ±åˆå®Ÿè£…
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-001.4, STT-REQ-001.5, STT-REQ-001.6_

- [x] 2.4 ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªå¯¾å¿œ
  - macOS BlackHoleç­‰ã®ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹èªè­˜æ©Ÿèƒ½ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼‰
  - Windows Stereo Mix/Wave Out Mixèªè­˜
  - Linux PulseAudio monitorãƒ‡ãƒã‚¤ã‚¹èªè­˜ï¼ˆ"Monitor of", ".monitor"ï¼‰
  - `AudioDeviceInfo.is_loopback`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  - ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ãƒ‡ãƒã‚¤ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
  - 3ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ çµ±åˆå®Ÿè£…å®Œäº†
  - _Requirements: STT-REQ-004.6, STT-REQ-004.7, STT-REQ-004.8_

- [x] 2.5 ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­æ¤œå‡ºã¨è‡ªå‹•å†æ¥ç¶šæ©Ÿèƒ½
  - ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­ã‚¤ãƒ™ãƒ³ãƒˆæ¤œå‡ºæ©Ÿèƒ½ï¼ˆAudioDeviceEvent enumï¼‰
  - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¨˜éŒ²æ©Ÿèƒ½
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥æ©Ÿèƒ½ï¼ˆã€ŒéŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ãŒåˆ‡æ–­ã•ã‚Œã¾ã—ãŸã€ï¼‰- app.emit() çµ±åˆ
  - Liveness watchdogï¼ˆ250msé–“éš”ã€1200msé–¾å€¤ï¼‰
  - ãƒ‡ãƒã‚¤ã‚¹ãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆ3ç§’é–“éš”ï¼‰
  - å…¨OSå¯¾å¿œï¼ˆCoreAudio/WASAPI/ALSAï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Note: è‡ªå‹•å†æ¥ç¶šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆSTT-REQ-004.11ï¼‰ã¯ãƒ•ã‚§ãƒ¼ã‚ºå¤–ã€åˆ¥ã‚¿ã‚¹ã‚¯ã§å®Ÿè£…äºˆå®š_
  - _Requirements: STT-REQ-004.9, STT-REQ-004.10, STT-REQ-004.11_

- [x] 2.6 ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ç¢ºèªæ©Ÿèƒ½
  - OSå›ºæœ‰ã®è¨±å¯ç¢ºèªãƒ­ã‚¸ãƒƒã‚¯ï¼ˆCoreAudio/WASAPI/ALSAï¼‰
  - è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆOSè‡ªå‹•è¡¨ç¤ºï¼‰
  - è¨±å¯æ‹’å¦æ™‚ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼ˆé©åˆ‡ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
  - AudioDeviceAdapter::check_permission()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆï¼ˆå…¨36ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-004.1, STT-REQ-004.2_

- [ ] 3. faster-whisperçµ±åˆã¨ãƒ¢ãƒ‡ãƒ«ç®¡ç†æ©Ÿèƒ½ï¼ˆPythonå´ï¼‰
- [x] 3.1 WhisperSTTEngineã‚¹ã‚±ãƒ«ãƒˆãƒ³ã¨åˆæœŸåŒ–ãƒ­ã‚¸ãƒƒã‚¯
  - å¤±æ•—ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆãƒ¢ãƒ‡ãƒ«ãƒ­ãƒ¼ãƒ‰ã€æ¨è«–ï¼‰
  - WhisperSTTEngineã‚¯ãƒ©ã‚¹ã®å®šç¾©
  - ãƒ¢ãƒ‡ãƒ«æ¤œå‡ºå„ªå…ˆé †ä½ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š â†’ HuggingFace Hubã‚­ãƒ£ãƒƒã‚·ãƒ¥ â†’ ãƒãƒ³ãƒ‰ãƒ«ï¼‰
  - faster-whisperãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åˆæœŸåŒ–
  - _Requirements: STT-REQ-002.1, STT-REQ-002.10_

- [x] 3.2 ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«é¸æŠæ©Ÿèƒ½
  - ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹æ¤œå‡ºï¼ˆCPUã‚³ã‚¢æ•°ã€ãƒ¡ãƒ¢ãƒªå®¹é‡ã€GPUåˆ©ç”¨å¯å¦ï¼‰
  - ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ï¼ˆGPU+8GBâ†’large-v3ã€CPU+4GBâ†’smallç­‰ï¼‰
  - æ‰‹å‹•ãƒ¢ãƒ‡ãƒ«é¸æŠã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰æ©Ÿèƒ½
  - ãƒªã‚½ãƒ¼ã‚¹è¶…éæ™‚ã®è­¦å‘Šãƒ­ã‚°è¨˜éŒ²
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ15ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-006.1, STT-REQ-006.2, STT-REQ-006.3, STT-REQ-006.4, STT-REQ-006.5_

- [x] 3.3 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
  - HuggingFace Hubã‹ã‚‰ã®ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ10ç§’ï¼‰
  - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒãƒ³ãƒ‰ãƒ«baseãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒå¯¾å¿œï¼ˆHTTPS_PROXYã€HTTP_PROXYç’°å¢ƒå¤‰æ•°ï¼‰
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰å¼·åˆ¶è¨­å®šæ©Ÿèƒ½
  - ãƒ¢ãƒ‡ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ï¼ˆ~/.cache/huggingface/hub/ï¼‰
  - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é€²æ—ãƒ­ã‚°è¨˜éŒ²
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ14ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-002.3, STT-REQ-002.4, STT-REQ-002.5, STT-REQ-002.6, STT-REQ-002.7, STT-REQ-002.8, STT-REQ-002.9_

- [x] 3.4 faster-whisperæ¨è«–æ©Ÿèƒ½
  - éŸ³å£°ãƒ‡ãƒ¼ã‚¿ï¼ˆ16-bit PCMï¼‰ã®numpyé…åˆ—å¤‰æ›ã¨float32æ­£è¦åŒ–
  - faster-whisperãƒ¢ãƒ‡ãƒ«ã§ã®æ¨è«–å®Ÿè¡Œï¼ˆlanguage="ja", beam_size=5ï¼‰
  - JSONå¿œç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”Ÿæˆï¼ˆtextã€confidenceã€languageã€is_finalã€processing_time_msï¼‰
  - ä¸æ­£éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼ˆç©ºãƒ‡ãƒ¼ã‚¿ã€ç ´æãƒ‡ãƒ¼ã‚¿ï¼‰
  - avg_logprobã‹ã‚‰confidenceã¸ã®å¤‰æ›ï¼ˆexponentialå¤‰æ›ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ10ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-002.11, STT-REQ-002.12, STT-REQ-002.13, STT-REQ-002.14_

- [ ] 4. éŸ³å£°æ´»å‹•æ¤œå‡ºï¼ˆVADï¼‰æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆPythonå´ï¼‰
- [x] 4.1 VoiceActivityDetectorã‚¹ã‚±ãƒ«ãƒˆãƒ³ã¨webrtcvadåˆæœŸåŒ–
  - VoiceActivityDetectorã‚¯ãƒ©ã‚¹ã®å®šç¾©ã¨webrtcvadåˆæœŸåŒ–ï¼ˆaggressiveness=2ï¼‰
  - éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®10mså˜ä½ãƒ•ãƒ¬ãƒ¼ãƒ åˆ†å‰²æ©Ÿèƒ½ï¼ˆ160 samples = 320 bytesï¼‰
  - is_speech()ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã®éŸ³å£°/ç„¡éŸ³åˆ¤å®š
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ9ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-003.1, STT-REQ-003.2_

- [x] 4.2 éŸ³å£°/ç„¡éŸ³åˆ¤å®šæ©Ÿèƒ½
  - process_frame()ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã®éŸ³å£°/ç„¡éŸ³çŠ¶æ…‹ç®¡ç†
  - ç™ºè©±é–‹å§‹æ¤œå‡ºï¼ˆéŸ³å£°ãƒ•ãƒ¬ãƒ¼ãƒ 30ãƒ•ãƒ¬ãƒ¼ãƒ =0.3ç§’ä»¥ä¸Šé€£ç¶šã§speech_startã‚¤ãƒ™ãƒ³ãƒˆï¼‰
  - ç™ºè©±çµ‚äº†æ¤œå‡ºï¼ˆç„¡éŸ³ãƒ•ãƒ¬ãƒ¼ãƒ 50ãƒ•ãƒ¬ãƒ¼ãƒ =0.5ç§’ä»¥ä¸Šé€£ç¶šã§speech_endã‚¤ãƒ™ãƒ³ãƒˆï¼‰
  - ç™ºè©±ã‚»ã‚°ãƒ¡ãƒ³ãƒˆç¢ºå®šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆaudio_dataã€duration_mså«ã‚€segmentè¿”å´ï¼‰
  - çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆå‡¦ç†ï¼ˆéŸ³å£°â†’ç„¡éŸ³ã€ç„¡éŸ³â†’éŸ³å£°ã®é·ç§»æ™‚ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ8ãƒ†ã‚¹ãƒˆåˆæ ¼ã€åˆè¨ˆ17ãƒ†ã‚¹ãƒˆï¼‰
  - _Requirements: STT-REQ-003.3, STT-REQ-003.4, STT-REQ-003.5_

- [x] 4.3 éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆã¨ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆã®ç”Ÿæˆé€£æºï¼ˆMVP0äº’æ›ç‰ˆï¼‰
  - AudioPipelineã®main.pyçµ±åˆå®Œäº†ï¼ˆAudioProcessorã‚¯ãƒ©ã‚¹ä½œæˆï¼‰
  - Request-Responseå‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«éµå®ˆï¼ˆSTT-REQ-007.1ï¼‰
  - VADâ†’AudioPipelineâ†’STTæœ¬ç•ªçµŒè·¯æ§‹ç¯‰å®Œäº†ï¼ˆ_handle_process_audioå®Ÿè£…ï¼‰
  - **IPCå®Ÿè£…æ–¹é‡**: 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆâ†’1æœ€çµ‚å¿œç­”ï¼ˆMVP0äº’æ›ï¼‰
  - ä¸­é–“ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆspeech_start, partial_textï¼‰ã¯ãƒ­ã‚°è¨˜éŒ²ã®ã¿ã€IPCé€ä¿¡ãªã—
  - å®Ÿçµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆtest_audio_integration.py: AudioPipelineå‹•ä½œã€IPCçµ±åˆï¼‰
  - **Task 7ã¸ã®å¼•ç¶™ãäº‹é …**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ å‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¿½åŠ ï¼‰
  - _Requirements: STT-REQ-007.1ï¼ˆå¾Œæ–¹äº’æ›æ€§ï¼‰, STT-REQ-003.6, STT-REQ-003.9_
  - _Note: STT-REQ-003.7/003.8ï¼ˆéƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆï¼‰ã¯AudioPipelineå†…éƒ¨å®Ÿè£…æ¸ˆã¿ã€IPCé…ä¿¡ã¯Task 7ã§å®Ÿè£…_

- [ ] 5. ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã¨å‹•çš„ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆPythonå´ï¼‰
- [x] 5.1 ResourceMonitor APIå±¤å®Ÿè£…ï¼ˆå®Œäº†ï¼‰
  - ResourceMonitorã‚¯ãƒ©ã‚¹ã®å®šç¾©å®Œäº†
  - ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹æ¤œå‡ºAPIå®Ÿè£…ï¼ˆCPUã€ãƒ¡ãƒ¢ãƒªã€GPUï¼‰
  - ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ«ãƒ¼ãƒ«APIå®Ÿè£…ï¼ˆlarge-v3/medium/small/base/tinyï¼‰
  - ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡å–å¾—APIå®Ÿè£…ï¼ˆget_current_memory_usage, get_current_cpu_usageï¼‰
  - ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰/ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰åˆ¤å®šAPIå®Ÿè£…
  - UIé€šçŸ¥ç”ŸæˆAPIå®Ÿè£…
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆç·‘åŒ–ï¼ˆ27ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Note: APIå±¤ã®ã¿å®Ÿè£…ã€‚ç›£è¦–ãƒ«ãƒ¼ãƒ—ãƒ»çµ±åˆãƒ»å®Ÿéš›ã®ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿ã¯æœªå®Ÿè£…_
  - _Requirements: STT-REQ-006.1, STT-REQ-006.2, STT-REQ-006.3ï¼ˆéƒ¨åˆ†ï¼‰_

- [x] 5.2 ResourceMonitorç›£è¦–ãƒ«ãƒ¼ãƒ—å®Ÿè£…ï¼ˆå®Œäº†ï¼‰
  - **30ç§’é–“éš”ã®ç›£è¦–ãƒ«ãƒ¼ãƒ—**å®Ÿè£…å®Œäº†ï¼ˆ`start_monitoring()`, `stop_monitoring()`ï¼‰
  - CPUè² è·æŒç¶šåˆ¤å®šã®è‡ªå‹•çŠ¶æ…‹ç®¡ç†å®Ÿè£…å®Œäº†ï¼ˆcpu_high_start_timeã®è‡ªå‹•æ›´æ–°ï¼‰
  - ãƒªã‚½ãƒ¼ã‚¹å›å¾©ã®è‡ªå‹•çŠ¶æ…‹ç®¡ç†å®Ÿè£…å®Œäº†ï¼ˆlow_resource_start_timeã®è‡ªå‹•æ›´æ–°ï¼‰
  - 60ç§’ç¶™ç¶šCPUé«˜è² è·æ¤œå‡ºã¨è‡ªå‹•ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒˆãƒªã‚¬ãƒ¼å®Ÿè£…å®Œäº†
  - 5åˆ†ç¶™ç¶šãƒªã‚½ãƒ¼ã‚¹å›å¾©æ¤œå‡ºã¨è‡ªå‹•ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆå®Ÿè£…å®Œäº†
  - 30ç§’é–“éš”ã®DEBUGãƒ­ã‚°å‡ºåŠ›å®Ÿè£…å®Œäº†
  - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆon_downgrade, on_upgrade_proposal, on_pause_recordingï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆç·‘åŒ–ï¼ˆ4ãƒ†ã‚¹ãƒˆåˆæ ¼ã€åˆè¨ˆ31ãƒ†ã‚¹ãƒˆï¼‰
  - ãƒã‚°ä¿®æ­£: `should_pause_recording()` ã‚’ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡ãƒ™ãƒ¼ã‚¹ã«å¤‰æ›´
  - ãƒã‚°ä¿®æ­£: `get_current_cpu_usage()` ã®1ç§’ãƒ–ãƒ­ãƒƒã‚¯å•é¡Œä¿®æ­£
  - _Note: AudioProcessorã¸ã®çµ±åˆã¯Task 5.3ã§å®Ÿè£…_
  - _Requirements: STT-NFR-001.6, STT-NFR-005.4, STT-REQ-006.7, STT-REQ-006.10ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 5.3 å‹•çš„ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆå®Œäº† + Critical Fixesé©ç”¨æ¸ˆã¿ï¼‰
  - **WhisperSTTEngine.load_model()å®Ÿè£…å®Œäº†**: å‹•çš„ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿ï¼ˆunload â†’ reloadï¼‰
    - **ğŸ”§ Critical Fix**: ãƒªã‚½ãƒ¼ã‚¹ãƒªãƒ¼ã‚¯å¯¾ç­–ã¨ã—ã¦`gc.collect()`è¿½åŠ ï¼ˆline 422ï¼‰
    - **ğŸ”§ Cleanup**: TODOã‚³ãƒ¡ãƒ³ãƒˆå‰Šé™¤ï¼ˆline 368ï¼‰
  - **AudioProcessorã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯çµ±åˆå®Œäº†**: `_handle_model_downgrade`, `_handle_upgrade_proposal`, `_handle_pause_recording`
  - **ResourceMonitorçµ±åˆå®Œäº†**: AudioProcessor.__init__ã§ResourceMonitoråˆæœŸåŒ–ã€current_model/initial_modelè¨­å®š
  - **ğŸ”§ Critical Fix: ç›£è¦–ãƒ«ãƒ¼ãƒ—èµ·å‹•å®Ÿè£…å®Œäº†**ï¼ˆmain.py:299-308ï¼‰
    - `main()`é–¢æ•°ã§30ç§’é–“éš”ã®ç›£è¦–ãƒ«ãƒ¼ãƒ—ã‚’è‡ªå‹•èµ·å‹•
    - ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³æ™‚ã®é©åˆ‡ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†å®Ÿè£…ï¼ˆfinally blockï¼‰
    - **å½±éŸ¿**: ã“ã‚Œã«ã‚ˆã‚Š Task 5.3 ã®å…¨æ©Ÿèƒ½ãŒæœ¬ç•ªç’°å¢ƒã§å®Ÿéš›ã«å‹•ä½œ
  - **IPCé€šçŸ¥é€ä¿¡å®Ÿè£…å®Œäº†**: model_change (cpu_high/memory_high), upgrade_proposal, recording_paused ã‚¤ãƒ™ãƒ³ãƒˆ
  - **ãƒ¡ãƒ¢ãƒªãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£å®Œäº†**: tinyãƒ¢ãƒ‡ãƒ«æ™‚ã®ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¹ã‚­ãƒƒãƒ—å®Ÿè£…ï¼ˆline 501ï¼‰
  - **ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆãƒ­ã‚¸ãƒƒã‚¯æ‹¡å¼µå®Œäº†**: initial_modelã¸ã®ç›´æ¥ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆå®Ÿè£…ï¼ˆline 538-559ï¼‰
  - **çµ±åˆãƒ†ã‚¹ãƒˆç·‘åŒ–å®Œäº†**: TestResourceMonitorIntegrationå…¨5ãƒ†ã‚¹ãƒˆåˆæ ¼
  - **ğŸ”§ ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_get_upgrade_target_respects_initial_model()` è¿½åŠ ï¼ˆinitial_model ceilingç¢ºèªï¼‰
  - **å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼**: 139 passed (+1), 1 skippedï¼ˆãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãªã—ï¼‰
  - _Requirements: STT-REQ-006.7, STT-REQ-006.8, STT-REQ-006.9, STT-REQ-006.10, STT-REQ-006.11, STT-NFR-001.6ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_
  - _Note: Task 5.4ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªæ™‚ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å®Ÿè¡Œï¼‰ã¯åˆ¥ã‚¿ã‚¹ã‚¯ã€‚æœ¬ã‚¿ã‚¹ã‚¯ã¯ææ¡ˆé€ä¿¡ã¾ã§å®Ÿè£…_

  **æ¤œè¨¼æ¸ˆã¿æŒ‡æ‘˜å¯¾å¿œ**:
  - âœ… **æŒ‡æ‘˜1ï¼ˆCriticalï¼‰**: ç›£è¦–ãƒ«ãƒ¼ãƒ—æœªèµ·å‹• â†’ main()ã§èµ·å‹•å®Ÿè£…å®Œäº†
  - âœ… **æŒ‡æ‘˜4ï¼ˆMediumï¼‰**: ãƒªã‚½ãƒ¼ã‚¹ãƒªãƒ¼ã‚¯æ‡¸å¿µ â†’ gc.collect()è¿½åŠ 
  - âŒ **æŒ‡æ‘˜2**: ãƒ¡ãƒ¢ãƒªç›£è¦–æœªå®Ÿè£… â†’ èª¤ã‚Šã€‚line 498ã§å®Ÿè£…æ¸ˆã¿
  - âŒ **æŒ‡æ‘˜3**: get_upgrade_target()ãƒ­ã‚¸ãƒƒã‚¯ãƒã‚° â†’ èª¤ã‚Šã€‚å…ƒã®ãƒ­ã‚¸ãƒƒã‚¯ãŒæ­£ã—ã„

- [x] 5.4 UIé€šçŸ¥ã¨ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆæ©Ÿèƒ½ï¼ˆå®Œäº†ï¼‰
  - **IPCçµŒç”±ã®UIé€šçŸ¥é€ä¿¡å®Ÿè£…å®Œäº†**: upgrade_proposal, model_change, recording_paused ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆTask 5.3ã§å®Ÿè£…æ¸ˆã¿ï¼‰
  - **ãƒªã‚½ãƒ¼ã‚¹å›å¾©ã®è‡ªå¾‹çš„æ¤œå‡ºå®Ÿè£…å®Œäº†**: low_resource_start_timeã®è‡ªå‹•æ›´æ–°ï¼ˆTask 5.3ã§å®Ÿè£…æ¸ˆã¿ã€line 491-499ï¼‰
  - **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªæ™‚ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰è©¦è¡Œå®Ÿè£…å®Œäº†**: approve_upgrade IPCãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ³ãƒ‰ãƒ©è¿½åŠ ï¼ˆmain.py:84-85, 286-349ï¼‰
  - **_handle_approve_upgrade()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**: WhisperSTTEngine.load_model()å‘¼ã³å‡ºã—ã€current_modelæ›´æ–°ã€IPCé€šçŸ¥é€ä¿¡
  - **tinyãƒ¢ãƒ‡ãƒ«ã§ãƒªã‚½ãƒ¼ã‚¹ä¸è¶³æ™‚ã®éŒ²éŸ³ä¸€æ™‚åœæ­¢å®Ÿè¡Œå®Ÿè£…å®Œäº†**: _handle_pause_recording()ï¼ˆTask 5.3ã§å®Ÿè£…æ¸ˆã¿ï¼‰
  - **çµ±åˆãƒ†ã‚¹ãƒˆã®ä½œæˆå®Œäº†**: test_user_approved_upgrade_executionè¿½åŠ ï¼ˆtest_audio_integration.py:732-777ï¼‰
  - **Rustãƒ†ã‚¹ãƒˆç·‘åŒ–å®Œäº†**: 11ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼ˆMockAudioAdapter.check_permission()è¿½åŠ ã«ã‚ˆã‚Šä¿®æ­£ï¼‰
  - **ğŸ”§ P0ãƒã‚°ä¿®æ­£å®Œäº†**ï¼ˆ2025-10-13ï¼‰:
    - **IPCå¿œç­”ã®éå¯¾ç§°æ€§ä¿®æ­£**: æˆåŠŸæ™‚ã«`type: response, id: msg_id`ã‚’è¿½åŠ ï¼ˆSTT-REQ-007.1æº–æ‹ ï¼‰
      - `main.py:330-348`: response + event äºŒæ®µæ§‹æˆã«å¤‰æ›´
      - å¤±æ•—æ™‚ã®ã¿idä»˜ãã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™éå¯¾ç§°æ€§ã‚’è§£æ¶ˆ
    - **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ãƒã‚°ä¿®æ­£**: `test_audio_integration.py:742-758`
      - `ResourceMonitor`ã®importè¿½åŠ ï¼ˆNameErrorè§£æ¶ˆï¼‰
      - ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°å‰Šé™¤ï¼ˆTypeErrorè§£æ¶ˆï¼‰
      - æ‰‹å‹•ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¨­å®šã«å¤‰æ›´ï¼ˆ`initial_model`, `current_model`ï¼‰
  - _Requirements: STT-REQ-006.10ï¼ˆå®Œäº†ï¼‰, STT-REQ-006.11ï¼ˆTask 5.3ã§å®Œäº†ï¼‰, STT-REQ-006.12ï¼ˆå®Œäº†ï¼‰, STT-REQ-007.1ï¼ˆä¿®æ­£å®Œäº†ï¼‰_
  - _Note: E2Eãƒ†ã‚¹ãƒˆ2ä»¶å¤±æ•—ã¯Pythonã‚µã‚¤ãƒ‰ã‚«ãƒ¼èµ·å‹•å•é¡Œï¼ˆTask 5.4ã®å®Ÿè£…ã¨ã¯ç„¡é–¢ä¿‚ï¼‰_

- [ ] 6. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆRustå´ï¼‰
- [x] 6.1 LocalStorageServiceã‚¹ã‚±ãƒ«ãƒˆãƒ³ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆâš ï¸ éƒ¨åˆ†å®Œäº†ï¼‰
  - LocalStorageServiceã‚¯ãƒ©ã‚¹ã®å®šç¾©å®Œäº†ï¼ˆsrc-tauri/src/storage.rsï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³IDç”Ÿæˆæ©Ÿèƒ½å®Ÿè£…å®Œäº†ï¼ˆUUID v4å½¢å¼ï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ©Ÿèƒ½å®Ÿè£…å®Œäº†ï¼ˆ`[app_data_dir]/recordings/[session_id]/`ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ5ä»¶ä½œæˆãƒ»ç·‘åŒ–å®Œäº†
    - `test_generate_session_id`: UUIDå½¢å¼æ¤œè¨¼
    - `test_generate_session_id_uniqueness`: UUIDä¸€æ„æ€§æ¤œè¨¼
    - `test_create_session_directory`: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ¤œè¨¼
    - `test_create_session_nested_directory`: è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè‡ªå‹•ä½œæˆæ¤œè¨¼
    - `test_get_session_dir`: ãƒ‘ã‚¹å–å¾—æ¤œè¨¼
  - **âš ï¸ æœªå®Ÿè£…**: ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯ï¼ˆSTT-REQ-005.7/005.8ï¼‰
  - **âš ï¸ æœªå®Ÿè£…**: ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ±åˆAPIï¼ˆ`begin_session()`ï¼‰
  - _Requirements: STT-REQ-005.1ï¼ˆåŸºç¤éƒ¨åˆ†ã®ã¿å®Ÿè£…ã€ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯æœªå®Ÿè£…ï¼‰_

- [x] 6.2 éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **AudioWriteræ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L49-127ï¼‰
  - **WAVãƒ˜ãƒƒãƒ€ãƒ¼æ›¸ãè¾¼ã¿å®Ÿè£…å®Œäº†**ï¼ˆ16kHz, ãƒ¢ãƒãƒ©ãƒ«, 16bit PCMå½¢å¼ï¼‰
  - **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ›¸ãè¾¼ã¿å®Ÿè£…å®Œäº†**ï¼ˆ`write_samples()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
  - **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¯ãƒ­ãƒ¼ã‚ºå‡¦ç†å®Ÿè£…å®Œäº†**ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã‚µã‚¤ã‚ºæ›´æ–°ã€`close()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
  - **LocalStorageServiceçµ±åˆå®Œäº†**ï¼ˆ`create_audio_writer()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
  - **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ4ä»¶ä½œæˆãƒ»ç·‘åŒ–å®Œäº†**ï¼ˆ9ãƒ†ã‚¹ãƒˆã™ã¹ã¦åˆæ ¼ï¼‰
    - `test_create_audio_writer`: AudioWriterä½œæˆã¨ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆç¢ºèª
    - `test_audio_writer_write_samples`: 1ç§’åˆ†ã®ã‚µãƒ³ãƒ—ãƒ«æ›¸ãè¾¼ã¿ç¢ºèª
    - `test_audio_writer_multiple_writes`: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ›¸ãè¾¼ã¿ç¢ºèªï¼ˆ10å›åˆ†å‰²ï¼‰
    - `test_audio_writer_wav_header`: WAVãƒ˜ãƒƒãƒ€ãƒ¼å½¢å¼æ¤œè¨¼ï¼ˆRIFF, fmt, dataï¼‰
  - _Requirements: STT-REQ-005.2ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.3 æ–‡å­—èµ·ã“ã—çµæœä¿å­˜æ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **TranscriptionEventæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L139-149ï¼‰
    - `timestamp_ms`: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆãƒŸãƒªç§’ï¼‰
    - `text`: ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹
    - `is_final`: ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆãƒ•ãƒ©ã‚°ï¼ˆfalse = éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆï¼‰
  - **TranscriptWriteræ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆL151-187ï¼‰
    - è¿½è¨˜ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`OpenOptions::append`ï¼‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
    - JSON Lineså½¢å¼ï¼ˆ1è¡Œ1JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã§ã®æ›¸ãè¾¼ã¿
    - `append_event()`: ã‚¤ãƒ™ãƒ³ãƒˆè¿½è¨˜ãƒ¡ã‚½ãƒƒãƒ‰
    - `close()`: ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸã¨ã‚¯ãƒ­ãƒ¼ã‚º
  - **LocalStorageServiceçµ±åˆå®Œäº†**ï¼ˆ`create_transcript_writer()` ãƒ¡ã‚½ãƒƒãƒ‰ L48-55ï¼‰
  - **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ4ä»¶ä½œæˆãƒ»ç·‘åŒ–å®Œäº†**ï¼ˆ13ãƒ†ã‚¹ãƒˆã™ã¹ã¦åˆæ ¼ï¼‰
    - `test_create_transcript_writer`: TranscriptWriterä½œæˆã¨ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆç¢ºèª
    - `test_transcript_writer_append_event`: éƒ¨åˆ†/ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆè¿½è¨˜ç¢ºèª
    - `test_transcript_writer_append_mode`: è¤‡æ•°å›Writerä½œæˆã§ã®è¿½è¨˜ãƒ¢ãƒ¼ãƒ‰ç¢ºèª
    - `test_transcription_event_json_format`: JSONå¤‰æ›ãƒ»é€†å¤‰æ›ç¢ºèª
  - _Requirements: STT-REQ-005.3ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.4 ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜æ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **SessionMetadataæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L139-159ï¼‰
    - 8ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: session_id, start_time, end_time, duration_seconds, audio_device, model_size, total_segments, total_characters
  - **save_session_metadata()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL58-69ï¼‰
    - `serde_json::to_string_pretty()` ã§JSONæ•´å½¢
    - session.jsonä¸Šæ›¸ãä¿å­˜
  - **4ãƒ†ã‚¹ãƒˆå®Ÿè£…å®Œäº†**ï¼ˆL624-782ï¼‰
    - `test_save_session_metadata`: åŸºæœ¬ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿æ¤œè¨¼
    - `test_session_metadata_json_format`: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼
    - `test_save_session_metadata_overwrite`: ä¸Šæ›¸ãå‹•ä½œç¢ºèª
    - `test_session_metadata_iso8601_timestamps`: ISO 8601å½¢å¼ä¿æŒç¢ºèª
  - **å…¨17ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆTask 6.1-6.4çµ±åˆï¼‰
  - _Requirements: STT-REQ-005.4ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.5 ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§å–å¾—ã¨å†ç”Ÿæ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **LoadedSessionæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L174-181ï¼‰
    - metadata, transcripts, audio_pathã®3ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  - **list_sessions()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL71-109ï¼‰
    - recordings/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªèµ°æŸ»ã€session.jsonèª­ã¿è¾¼ã¿
    - æ—¥æ™‚é™é †ã‚½ãƒ¼ãƒˆï¼ˆstart_timeé™é †ï¼‰
  - **load_session()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL111-145ï¼‰
    - session.json + transcription.jsonl + audio.wavãƒ‘ã‚¹èª­ã¿è¾¼ã¿
    - ç©ºtranscription.jsonlå¯¾å¿œ
  - **4ãƒ†ã‚¹ãƒˆå®Ÿè£…å®Œäº†**ï¼ˆL788-943ï¼‰
    - `test_list_sessions`: 3ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆãƒ»æ—¥æ™‚é™é †ã‚½ãƒ¼ãƒˆæ¤œè¨¼
    - `test_load_session`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ»æ–‡å­—èµ·ã“ã—ãƒ»éŸ³å£°ãƒ‘ã‚¹æ¤œè¨¼
    - `test_list_sessions_empty`: ç©ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‡¦ç†ç¢ºèª
    - `test_load_session_not_found`: å­˜åœ¨ã—ãªã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼å‡¦ç†
  - **å…¨21ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆTask 6.1-6.5çµ±åˆï¼‰
  - _Requirements: STT-REQ-005.5, STT-REQ-005.6ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.6 ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ç›£è¦–ã¨è­¦å‘Šæ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **DiskSpaceStatus enumå®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L259-281ï¼‰
    - Sufficient, Warning, Critical ã®3çŠ¶æ…‹
    - Display traitå®Ÿè£…ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼‰
  - **check_disk_space()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL147-182ï¼‰
    - sys_info::disk_info()ã§ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡å–å¾—
    - 1GBä»¥ä¸Š: Sufficient
    - 500MBä»¥ä¸Š1GBæœªæº€: Warningï¼ˆè­¦å‘Šãƒ­ã‚°å‡ºåŠ›ï¼‰
    - 500MBæœªæº€: Criticalï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ­ã‚°å‡ºåŠ›ï¼‰
  - **4ãƒ†ã‚¹ãƒˆå®Ÿè£…å®Œäº†**ï¼ˆL1025-1106ï¼‰
    - `test_check_disk_space_sufficient`: ååˆ†ãªå®¹é‡ç¢ºèª
    - `test_check_disk_space_warning`: è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œè¨¼
    - `test_check_disk_space_critical`: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œè¨¼
    - `test_create_session_with_disk_check`: ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆå‰ã®ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯
  - **å…¨25ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆTask 6.1-6.6çµ±åˆï¼‰
  - **sys-info crateã‚’ä¾å­˜é–¢ä¿‚ã«è¿½åŠ **ï¼ˆCargo.tomlï¼‰
  - _Requirements: STT-REQ-005.7, STT-REQ-005.8ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

---

### Task 6ç³» è€éšœå®³æ€§å¼·åŒ–ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆ2025-10-13å®Ÿæ–½ï¼‰

**èƒŒæ™¯**: å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸè‡´å‘½çš„ãªæ‡¸å¿µ3ç‚¹ã‚’ä¿®æ­£

#### ä¿®æ­£1: AudioWriter Dropå®Ÿè£…ï¼ˆL270-277ï¼‰
- **å•é¡Œ**: close()æœªå‘¼ã³å‡ºã—æ™‚ã€WAVãƒ˜ãƒƒãƒ€ãƒ¼ã‚µã‚¤ã‚ºãŒ0ã®ç ´æãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
- **å¯¾å¿œ**: Drop traitå®Ÿè£…ã€finalize()å†…éƒ¨ãƒ¡ã‚½ãƒƒãƒ‰åŒ–
- **åŠ¹æœ**: ãƒ‘ãƒ‹ãƒƒã‚¯ãƒ»ä¾‹å¤–æ™‚ã‚‚è‡ªå‹•ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°ã€STT-REQ-005.2å®Œå…¨æº–æ‹ 
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_audio_writer_drop_without_close`ï¼ˆL583-627ï¼‰

#### ä¿®æ­£2: TranscriptWriter Drop + sync_all()å¼·åŒ–ï¼ˆL396-403ï¼‰
- **å•é¡Œ1**: flush()ã®ã¿ã§ãƒ‡ã‚£ã‚¹ã‚¯æ°¸ç¶šåŒ–æœªä¿è¨¼ï¼ˆã‚«ãƒ¼ãƒãƒ«ãƒãƒƒãƒ•ã‚¡æ­¢ã¾ã‚Šï¼‰
- **å•é¡Œ2**: close()æœªå‘¼ã³å‡ºã—æ™‚ã€ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã§ãƒ‡ãƒ¼ã‚¿æ¬ æ
- **å¯¾å¿œ1**: append_event()å†…ã§flush() + sync_all()å®Ÿè¡Œï¼ˆL365-382ï¼‰
- **å¯¾å¿œ2**: Drop traitå®Ÿè£…ã€finalize()å†…éƒ¨ãƒ¡ã‚½ãƒƒãƒ‰åŒ–
- **åŠ¹æœ**: ã‚¯ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®ãƒ‡ãƒ¼ã‚¿æ¬ ææœ€å°åŒ–ã€STT-REQ-005.3å®Œå…¨æº–æ‹ 
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_transcript_writer_drop_without_close`ï¼ˆL826-868ï¼‰

#### ä¿®æ­£3: begin_session()åŸå­çš„APIè¿½åŠ ï¼ˆL46-76ï¼‰
- **å•é¡Œ**: create_session()â†’create_audio_writer()ã®å‘¼ã³é †ä¾å­˜ã€è²¬å‹™åˆ†æ–­
- **å¯¾å¿œ**: SessionHandleï¼ˆRAIIï¼‰å°å…¥ï¼ˆL15-39ï¼‰
  - IDç”Ÿæˆ â†’ ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯ â†’ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆã‚’åŸå­çš„å®Ÿè¡Œ
  - Criticalæ™‚ã¯éŒ²éŸ³é–‹å§‹æ‹’å¦ã€Warningæ™‚ã¯è­¦å‘Šè¡¨ç¤º
  - SessionHandleçµŒç”±ã§ã®ã¿ãƒ©ã‚¤ã‚¿ãƒ¼å–å¾—å¯èƒ½
- **åŠ¹æœ**: å‘¼ã³å‡ºã—é †ãƒŸã‚¹é˜²æ­¢ã€STT-REQ-005.1å®Œå…¨æº–æ‹ 
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **:
  - `test_begin_session`ï¼ˆL1308-1332ï¼‰
  - `test_begin_session_with_writers`ï¼ˆL1334-1378ï¼‰

#### æœ€çµ‚çµæœ
- **å…¨29ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆä¿®æ­£å‰25 + æ–°è¦4ï¼‰
- **ã‚³ãƒ¼ãƒ‰è¡Œæ•°**: storage.rs 1,397è¡Œï¼ˆä¿®æ­£å‰1,106è¡Œã‹ã‚‰+291è¡Œï¼‰
- **è€éšœå®³æ€§**: ç•°å¸¸çµ‚äº†æ™‚ã®ãƒ‡ãƒ¼ã‚¿ä¿è­·ã‚’å®Œå…¨ä¿è¨¼

---

### Task 6ç³» UIé€šçŸ¥çµ±åˆï¼ˆP0å¯¾å¿œã€2025-10-13å®Ÿæ–½ï¼‰

**èƒŒæ™¯**: å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸWarningæ™‚ã®UIé€šçŸ¥æ¬ è½ã‚’ä¿®æ­£

#### ä¿®æ­£å†…å®¹: SessionHandleã¸ã®disk_statusãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆL19-59ï¼‰
- **å•é¡Œ**: Warningæ™‚ã« eprintln!ã®ã¿ã§UIé€šçŸ¥æœªå®Ÿè£…ï¼ˆSTT-REQ-005.7æœªé”ï¼‰
- **å¯¾å¿œ**:
  - SessionHandleã«`disk_status: DiskSpaceStatus`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆL24ï¼‰
  - `needs_disk_warning() -> bool`ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ï¼ˆL44-48ï¼‰
  - `disk_warning_message() -> Option<String>`ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ï¼ˆL50-58ï¼‰
- **åŠ¹æœ**: å‘¼ã³å‡ºã—å´ã§UIé€šçŸ¥ã‚’åˆ¶å¾¡å¯èƒ½
  ```rust
  let handle = storage.begin_session()?;
  if handle.needs_disk_warning() {
      // UIé€šçŸ¥: handle.disk_warning_message()
  }
  ```
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_session_handle_disk_warning`ï¼ˆL1365-1387ï¼‰
- **è¦ä»¶å……è¶³**: STT-REQ-005.7å®Œå…¨æº–æ‹ 

#### æœ€çµ‚çµæœ
- **å…¨30ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆP0å¯¾å¿œå¾Œï¼‰
- **UIé€šçŸ¥**: å‘¼ã³å‡ºã—å´ã§åˆ¶å¾¡å¯èƒ½ï¼ˆTauri Event APIçµ±åˆæº–å‚™å®Œäº†ï¼‰
- **æ®‹èª²é¡Œï¼ˆP1ï¼‰**: æ—§APIï¼ˆcreate_sessionï¼‰éå…¬é–‹åŒ–ã€testç’°å¢ƒä¾å­˜æ€§

---

### Task 6ç³» è‡´å‘½çš„æ¬ é™¥ä¿®æ­£ï¼ˆP0å¯¾å¿œã€2025-10-13å®Ÿæ–½ï¼‰

**èƒŒæ™¯**: å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸ2ã¤ã®è‡´å‘½çš„æ¬ é™¥ã‚’ä¿®æ­£

#### ä¿®æ­£1: fs2 crateã§app_data_dirå®¹é‡å–å¾—ï¼ˆL230-268ï¼‰
- **å•é¡Œ**: sys_info::disk_info()ã¯ãƒ«ãƒ¼ãƒˆFSã®ã‚°ãƒ­ãƒ¼ãƒãƒ«å€¤ã®ã¿å–å¾—
  - app_data_dirãŒå¤–ä»˜ã‘HDDã‚„åˆ¥ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ä¸Šã®å ´åˆã€èª¤åˆ¤å®š
  - ä¾‹: ãƒ«ãƒ¼ãƒˆFS 10GBç©ºãï¼ˆSufficientï¼‰ã€å¤–ä»˜ã‘HDD 400MBç©ºãï¼ˆCriticalï¼‰â†’ èª¤ã£ã¦Sufficientã‚’è¿”ã™
- **å¯¾å¿œ**: fs2::available_space()ã§app_data_dirã®FSå®¹é‡ã‚’æ­£ç¢ºå–å¾—
  ```rust
  use fs2::available_space;
  let free_bytes = available_space(&self.app_data_dir)?;
  ```
- **åŠ¹æœ**: å¤–ä»˜ã‘HDDã€åˆ¥ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‰ãƒ©ã‚¤ãƒ–ã§ã‚‚æ­£ç¢ºãªå®¹é‡åˆ¤å®š
- **ä¾å­˜é–¢ä¿‚è¿½åŠ **: fs2 v0.4.3ï¼ˆCargo.tomlï¼‰
- **è¦ä»¶å……è¶³**: STT-REQ-005.7/005.8å®Œå…¨æº–æ‹ 

#### ä¿®æ­£2: æ—§APIçµŒè·¯ã®ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯è¿½åŠ 
- **å•é¡Œ**: create_session/create_audio_writer/create_transcript_writerãŒå…¬é–‹APIã§ã€ç›´æ¥å‘¼ã³å‡ºã™ã¨ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯ã‚’ãƒã‚¤ãƒ‘ã‚¹å¯èƒ½
  ```rust
  // å±é™ºãªå‘¼ã³å‡ºã—ä¾‹
  storage.create_session(&session_id)?;  // âŒ å®¹é‡ãƒã‚§ãƒƒã‚¯ãªã—
  storage.create_audio_writer(&session_id)?;  // âŒ å®¹é‡ãƒã‚§ãƒƒã‚¯ãªã—
  ```
- **å¯¾å¿œ**: å„æ—§APIã«å®¹é‡ãƒã‚§ãƒƒã‚¯è¿½åŠ ï¼ˆL115-175ï¼‰
  - `create_session()`: L116-123ã§Criticalæ™‚æ‹’å¦
  - `create_audio_writer()`: L142-149ã§Criticalæ™‚æ‹’å¦
  - `create_transcript_writer()`: L163-170ã§Criticalæ™‚æ‹’å¦
- **åŠ¹æœ**: ã©ã®APIçµŒè·¯ã§ã‚‚ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ä¸è¶³ã‚’æ¤œå‡ºãƒ»æ‹’å¦
- **è¦ä»¶å……è¶³**: STT-REQ-005.8å®Œå…¨æº–æ‹ 

#### æœ€çµ‚çµæœ
- **å…¨41ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆP0å¯¾å¿œå®Œäº†ï¼‰
- **è‡´å‘½çš„æ¬ é™¥**: å…¨è§£æ¶ˆ
- **è¦ä»¶å……è¶³**: STT-REQ-005.1ã€œ005.8å®Œå…¨æº–æ‹ 
- **ä¾å­˜é–¢ä¿‚**: fs2 v0.4.3è¿½åŠ ã€sys-infoå‰Šé™¤å¯èƒ½
- **æ®‹èª²é¡Œï¼ˆP1ï¼‰**: æ—§APIéå…¬é–‹åŒ–ï¼ˆå¾Œæ–¹äº’æ›æ€§ç¶­æŒã®ãŸã‚ä¿ç•™ï¼‰

- [ ] 7. IPCé€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«æ‹¡å¼µã¨å¾Œæ–¹äº’æ›æ€§ï¼ˆRust/Pythonä¸¡å´ï¼‰
  - **Task 4.3ã‹ã‚‰ã®å¼•ç¶™ã**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡æ©Ÿèƒ½ã®å®Ÿè£…
  - **èƒŒæ™¯**: Task 4.3ã§ã¯MVP0äº’æ›æ€§å„ªå…ˆã§Request-Responseå‹ï¼ˆ1ãƒªã‚¯ã‚¨ã‚¹ãƒˆâ†’1æœ€çµ‚å¿œç­”ï¼‰ã‚’ç¶­æŒ
  - **æœ¬ã‚¿ã‚¹ã‚¯ã®ç›®æ¨™**: ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ å‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¿½åŠ ï¼ˆ1ãƒªã‚¯ã‚¨ã‚¹ãƒˆâ†’è¤‡æ•°ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡ï¼‰
  - **å®Ÿè£…æ–¹é‡**: æ–°ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ `process_audio_stream` ã¾ãŸã¯æ—¢å­˜ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ‹¡å¼µã‚’æ¤œè¨
- [x] 7.1 IPCãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‹¡å¼µã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼ˆâœ… å®Œäº†ã€Task 7.1.5ã§P0ä¿®æ­£å®Œäº†ï¼‰
  - **æ–°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ**: `ipc_protocol.rs`ï¼ˆsrc-tauri/src/ipc_protocol.rsï¼‰
  - **TranscriptionResultæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆL10-38ï¼‰
    - æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: text, is_final
    - æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆOptionalï¼‰: confidence, language, processing_time_ms, model_size
    - `#[serde(default, skip_serializing_if = "Option::is_none")]`ã§å¾Œæ–¹äº’æ›æ€§ç¢ºä¿
  - **IpcMessage enumå®Ÿè£…å®Œäº†**ï¼ˆL42-78ï¼‰
    - Request, Response, Error ã®3ãƒãƒªã‚¢ãƒ³ãƒˆ
    - å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«`version`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¿…é ˆåŒ–ï¼ˆSTT-REQ-007.4ï¼‰
    - **P0ä¿®æ­£å®Œäº†**: `#[serde(default = "default_version")]`ã§æ—§å½¢å¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¯¾å¿œï¼ˆADR-003æº–æ‹ ï¼‰
    - ã‚¨ãƒ©ãƒ¼å¿œç­”å½¢å¼çµ±ä¸€ï¼ˆerrorCode, errorMessage, recoverableï¼‰
  - **ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…**ï¼ˆL80-97ï¼‰
    - `version()`: ãƒãƒ¼ã‚¸ãƒ§ãƒ³å–å¾—
    - `id()`: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸IDå–å¾—
  - **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ11ä»¶å®Ÿè£…ãƒ»å…¨åˆæ ¼**ï¼ˆL99-333ï¼‰
    - `test_transcription_result_with_all_fields`: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼
    - `test_transcription_result_backward_compatibility`: æ—§å½¢å¼äº’æ›æ€§
    - `test_ipc_message_response_with_version`: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼
    - `test_ipc_message_error_format`: ã‚¨ãƒ©ãƒ¼å½¢å¼æ¤œè¨¼ï¼ˆSTT-REQ-007.5ï¼‰
    - `test_ipc_message_version_accessor`: ã‚¢ã‚¯ã‚»ã‚µãƒ¡ã‚½ãƒƒãƒ‰æ¤œè¨¼
    - `test_transcription_result_skip_none_fields`: Noneçœç•¥æ¤œè¨¼
    - `test_ipc_message_roundtrip`: ãƒ©ã‚¦ãƒ³ãƒ‰ãƒˆãƒªãƒƒãƒ—æ¤œè¨¼
    - `test_forward_compatibility_ignore_unknown_fields`: æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–
    - `test_version_constant`: ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³å®šæ•°æ¤œè¨¼
    - `test_confidence_range`: ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ç¯„å›²æ¤œè¨¼
    - **P0å¯¾å¿œãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_version_field_omitted_defaults_to_1_0`ï¼ˆL317-331ã€ADR-003æ¤œè¨¼ï¼‰
  - **å¾Œæ–¹äº’æ›æ€§**: `#[serde(default = "default_version")]`ã§æ—§å½¢å¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆADR-003æº–æ‹ ï¼‰
  - **å‰æ–¹äº’æ›æ€§**: serdeã®`#[serde(deny_unknown_fields)]`æœªä½¿ç”¨ã§æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–
  - **Task 7.1.5çµ±åˆå®Œäº†**: æ—¢å­˜IPCé€šä¿¡ã¸ã®æ–°ãƒ—ãƒ­ãƒˆã‚³ãƒ«çµ±åˆï¼ˆè©³ç´°ã¯ä¸‹è¨˜ï¼‰
  - **å…¨11ãƒ†ã‚¹ãƒˆåˆæ ¼**
  - _Requirements: STT-REQ-007.1, STT-REQ-007.2, STT-REQ-007.4, STT-REQ-007.5, ADR-003ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 7.1.5 æ—¢å­˜IPCé€šä¿¡ã¸ã®æ–°ãƒ—ãƒ­ãƒˆã‚³ãƒ«çµ±åˆï¼ˆâš ï¸ éƒ¨åˆ†å®Œäº†ã€P0ä¿®æ­£ã«ã‚ˆã‚Šå·®ã—æˆ»ã—ï¼‰
  - **èƒŒæ™¯**: Task 7.1ã§æ–°ipc_protocolãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè£…ã‚‚ã€å®Ÿéš›ã®IPCé€šä¿¡ï¼ˆpython_sidecar.rs/commands.rsï¼‰ã§æœªä½¿ç”¨ã®è‡´å‘½çš„æ¬ é™¥ã‚’ä¿®æ­£
  - **python_sidecar.rsãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**ï¼ˆL1-131ï¼‰
    - æ—§IpcMessage enum â†’ LegacyIpcMessage ã«ãƒªãƒãƒ¼ãƒ ï¼ˆ#[deprecated]ä»˜ä¸ã€L50-74ï¼‰
    - `use crate::ipc_protocol::IpcMessage` è¿½åŠ ï¼ˆL11-13ï¼‰
    - `LegacyIpcMessage::to_protocol_message()` å¤‰æ›ãƒ˜ãƒ«ãƒ‘ãƒ¼å®Ÿè£…ï¼ˆL76-131ï¼‰
      - TranscriptionResult â†’ Responseå¤‰æ›ï¼ˆconfidence/languageç­‰ã¯Noneï¼‰
      - Error â†’ Errorå¤‰æ›
      - Ready â†’ Responseå¤‰æ›
      - StartProcessing/StopProcessing â†’ Requestå¤‰æ›
  - **commands.rsé€å—ä¿¡ä¿®æ­£**ï¼ˆL1-220ï¼‰
    - `use crate::ipc_protocol::IpcMessage` è¿½åŠ ï¼ˆL8ï¼‰
    - **é€ä¿¡å´ä¿®æ­£**ï¼ˆL152-175ï¼‰: æ‰‹æ›¸ãJSON â†’ `ProtocolMessage::Request`ä½¿ç”¨
      - `id`: `audio-{timestamp}`
      - `version`: `PROTOCOL_VERSION`ï¼ˆ"1.0"ï¼‰
      - `method`: "process_audio"
      - `params`: `{"audio_data": [u8]}`
    - **å—ä¿¡å´ä¿®æ­£**ï¼ˆL185-218ï¼‰: æ–°å½¢å¼å„ªå…ˆã€æ—§å½¢å¼Fallback
      - æ–°å½¢å¼: `ProtocolMessage::Response { result.text }` æŠ½å‡º
      - æ—§å½¢å¼: `response.get("text")` æŠ½å‡ºï¼ˆâš ï¸ éæ¨å¥¨è­¦å‘Šï¼‰
      - ã‚¨ãƒ©ãƒ¼å¿œç­”: `ProtocolMessage::Error` å‡¦ç†
  - **çµ±åˆãƒ†ã‚¹ãƒˆ9ä»¶è¿½åŠ **ï¼ˆtests/ipc_migration_test.rsï¼‰
    - `test_new_ipc_format_roundtrip`: æ–°å½¢å¼ãƒ©ã‚¦ãƒ³ãƒ‰ãƒˆãƒªãƒƒãƒ—æ¤œè¨¼
    - `test_legacy_format_not_parsed_as_new_format`: æ—§å½¢å¼ãƒ‘ãƒ¼ã‚¹å¤±æ•—ç¢ºèªï¼ˆæœŸå¾…å‹•ä½œï¼‰
    - `test_new_format_request_serialization`: Requestå½¢å¼æ¤œè¨¼
    - `test_new_format_error_response`: Errorå½¢å¼æ¤œè¨¼
    - `test_legacy_to_new_format_conversion`: æ—§â†’æ–°å¤‰æ›æ¤œè¨¼
    - `test_version_field_omitted_backward_compat`: versionãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çœç•¥æ™‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ"1.0"æ¤œè¨¼
    - `test_forward_compatibility_unknown_fields`: æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–æ¤œè¨¼
    - `test_extended_fields_serialization`: æ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼
    - `test_extended_fields_omitted_when_none`: Noneãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çœç•¥æ¤œè¨¼
  - **å¾Œæ–¹äº’æ›æ€§ä¿è¨¼**: æ—§å½¢å¼Pythonï¼ˆMVP0ï¼‰ã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å—ä¿¡å¯èƒ½ã€âš ï¸è­¦å‘Šè¡¨ç¤º
  - **æ®µéšçš„ç§»è¡Œæˆ¦ç•¥**: LegacyIpcMessageï¼ˆ#[deprecated]ï¼‰ã§å°†æ¥ã®æ—§å½¢å¼å»ƒæ­¢ã‚’äºˆå‘Š
  - **å…¨20ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆipc_protocol 11 + integration 9ï¼‰
  - **âš ï¸ P0ä¿®æ­£ã«ã‚ˆã‚‹å·®ã—æˆ»ã—**ï¼ˆ2025-10-13å®Ÿæ–½ï¼‰:
    - **å•é¡Œ**: commands.rs L152-165ã§æ–°å½¢å¼`ProtocolMessage::Request`é€ä¿¡ã‚‚ã€Pythonå´ï¼ˆmain.py L77-103ï¼‰ãŒ`msg_type == 'process_audio'`ã§åˆ†å²ã—ã¦ãŠã‚Šã€`type: "request"`ã‚’å—ã‘å–ã‚Œãªã„
    - **å½±éŸ¿**: ğŸ”´ éŒ²éŸ³å‡¦ç†ãŒå®Œå…¨åœæ­¢ï¼ˆã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ"Unknown message type: request"ã‚¨ãƒ©ãƒ¼ã§æ‹’å¦ï¼‰
    - **å¯¾å¿œ**: commands.rsé€ä¿¡å‡¦ç†ã‚’æ—§å½¢å¼ï¼ˆ`type: "process_audio"`ï¼‰ã¸å·®ã—æˆ»ã—ï¼ˆL152-165ï¼‰
    - **æ¬¡ã‚¹ãƒ†ãƒƒãƒ—**: Task 7.2ã§Pythonå´ã‚’æ–°å½¢å¼å¯¾å¿œå¾Œã€å†åº¦æ–°å½¢å¼ã¸ç§»è¡Œ
  - **è¦ä»¶å……è¶³çŠ¶æ³**: âš ï¸ STT-REQ-007.1/007.2/007.4/007.5ã¯**æœªé”æˆ**ï¼ˆPythonå´æœªå¯¾å¿œã®ãŸã‚å®Ÿéš›ã®é€šä¿¡ã§ä½¿ç”¨ä¸å¯ï¼‰
  - _Requirements: STT-REQ-007.1, STT-REQ-007.2, STT-REQ-007.4, STT-REQ-007.5, ADR-003ï¼ˆRustå´å®Ÿè£…å®Œäº†ã€Pythonå´å¯¾å¿œå¾…ã¡ï¼‰_
- [x] 7.1.6 ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ å‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¿½åŠ ï¼ˆâœ… å®Œäº†ã€P0ä¿®æ­£å®Œäº† 2025-10-13å®Ÿæ–½ï¼‰
  - **Pythonå´å®Ÿè£…å®Œäº†**ï¼ˆmain.py L261-406ï¼‰
    - `_handle_process_audio_stream()` ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…ï¼ˆL262-406ï¼‰
    - ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—: `speech_start`, `partial_text`, `final_text`, `speech_end`, `error`
    - **P0ä¿®æ­£1**: JSONå½¢å¼ã‚’Rust schemaå®Œå…¨æº–æ‹ ï¼ˆ`eventType`/`data`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä½¿ç”¨ï¼‰
    - **P0ä¿®æ­£2**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹å®Ÿè£…ï¼ˆL303: `asyncio.sleep(0.01)`ã§10msãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼‰
      - å•é¡Œ: ãƒ•ãƒ¬ãƒ¼ãƒ ä¸€æ°—å‡¦ç†ã§time.time()å¤‰åŒ–ã›ãšã€`_should_generate_partial()`ãŒå¸¸ã«False
      - å¯¾å¿œ: å„ãƒ•ãƒ¬ãƒ¼ãƒ å‡¦ç†å¾Œã«10mså¾…æ©Ÿã§å£æ™‚è¨ˆæ™‚åˆ»ã‚’é€²è¡Œã•ã›ã€1ç§’é–“éš”partial_textç™ºç«ã‚’å®Ÿç¾
    - **P0ä¿®æ­£3**: ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡å®Ÿè£…ï¼ˆL387-402: `event_type == 'error'`ã‚±ãƒ¼ã‚¹è¿½åŠ ï¼‰
      - å•é¡Œ1: AudioPipelineã‚¨ãƒ©ãƒ¼æ™‚ã€Pythonå´ãŒä½•ã‚‚é€ä¿¡ã›ãšRustå´ãŒ`receive_message()`ã§ãƒãƒ³ã‚°
      - å¯¾å¿œ1: `type: 'error'`ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã§Rustå´ãƒ«ãƒ¼ãƒ—ã‚’ç¢ºå®Ÿã«çµ‚äº†
      - å•é¡Œ2: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«`id`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãªãã€IpcMessage::Errorãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå¤±æ•—
      - å¯¾å¿œ2: L395ã§`'id': msg_id`è¿½åŠ ï¼ˆipc_protocol.rs L104å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æº–æ‹ ï¼‰
    - **P1ä¿®æ­£**: `speech_end`ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡å®Ÿè£…ï¼ˆAudioPipelineãŒè¿”ã•ãªã„ãŸã‚æ‰‹å‹•é€ä¿¡ï¼‰
  - **Rustå´å®Ÿè£…å®Œäº†**ï¼ˆcommands.rs L152-270ï¼‰
    - ãƒ¡ã‚½ãƒƒãƒ‰åå¤‰æ›´: `process_audio` â†’ `process_audio_stream`ï¼ˆL163ï¼‰
    - ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡ãƒ«ãƒ¼ãƒ—å®Ÿè£…ï¼ˆL188-270ï¼‰
    - ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—åˆ¥å‡¦ç†: speech_start, partial_text, final_text, speech_end
    - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: `ProtocolMessage::Error`ã§ãƒ«ãƒ¼ãƒ—çµ‚äº†ï¼ˆL252-254ï¼‰
    - `final_text`ã§WebSocketé…ä¿¡ã€`speech_end`ã§ãƒ«ãƒ¼ãƒ—çµ‚äº†
  - **çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…**ï¼ˆpython-stt/tests/test_audio_integration.py L786-1028ï¼‰
    - `test_process_audio_stream_sends_multiple_events`: ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡æ¤œè¨¼
    - `test_process_audio_still_works_for_backward_compatibility`: å¾Œæ–¹äº’æ›æ€§æ¤œè¨¼
    - `test_process_audio_stream_handles_error_events`: ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡æ¤œè¨¼ï¼ˆP0ä¿®æ­£æ¤œè¨¼ï¼‰
      - L1024: `id`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼è¿½åŠ ï¼ˆIpcMessage::Errorå¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
    - **å…¨3ãƒ†ã‚¹ãƒˆåˆæ ¼**
  - **å¾Œæ–¹äº’æ›æ€§ç¶­æŒ**: æ—¢å­˜ `process_audio` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå¤‰æ›´ãªã—
  - **STT-REQ-003.7/003.8å¯¾å¿œ**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡å®Œå…¨å®Ÿè£…ï¼ˆP0ä¿®æ­£ã«ã‚ˆã‚Šå®Ÿç¾ï¼‰
  - **ãƒ“ãƒ«ãƒ‰æ¤œè¨¼**: `cargo build`æˆåŠŸï¼ˆdeprecation warning 9ä»¶ã¯æ—¢å­˜Legacy IPCç”±æ¥ï¼‰
  - _Requirements: STT-REQ-003.7, STT-REQ-003.8, STT-REQ-007.1ï¼ˆP0ä¿®æ­£å®Œäº†ã€å®Œå…¨å®Ÿè£…ï¼‰_

- [x] 7.2 å¾Œæ–¹äº’æ›æ€§ãƒ†ã‚¹ãƒˆã¨ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼ˆâœ… å®Œäº†ã€P0ä¿®æ­£å®Œäº† 2025-10-13å®Ÿæ–½ï¼‰
  - **âš ï¸ P0æ¬ é™¥ç™ºè¦‹ã¨ä¿®æ­£**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´å‡¦ç†ãŒæœªå®Ÿè£…ã ã£ãŸå•é¡Œã‚’ä¿®æ­£
    - **å•é¡Œ**: ãƒ†ã‚¹ãƒˆãŒãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã‚’æ¤œè¨¼ã›ãšã€ã‚³ãƒ¡ãƒ³ãƒˆã§æœŸå¾…ã‚’è¿°ã¹ã‚‹ã ã‘
    - **å½±éŸ¿**: version 2.xã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚ç„¡æ¡ä»¶ã«å‡¦ç†ã•ã‚Œã€STT-REQ-007.6æœªé”æˆ
  - **ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…**ï¼ˆipc_protocol.rs L45-107, L127-169ï¼‰
    - `VersionCompatibility` enumè¿½åŠ : Compatible, MinorMismatch, MajorMismatch, Malformed
    - `check_version_compatibility()` é–¢æ•°å®Ÿè£…: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°è§£æ
    - `IpcMessage::check_version_compatibility()` ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
  - **commands.rsã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯å®Ÿè£…**ï¼ˆcommands.rs L200-228ï¼‰
    - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡æ™‚ã«`msg.check_version_compatibility()`å‘¼ã³å‡ºã—
    - `MajorMismatch`: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° + é€šä¿¡æ‹’å¦ï¼ˆãƒ«ãƒ¼ãƒ—è„±å‡ºï¼‰
    - `MinorMismatch`: è­¦å‘Šãƒ­ã‚° + å¾Œæ–¹äº’æ›ãƒ¢ãƒ¼ãƒ‰ã§å‡¦ç†ç¶™ç¶š
    - `Malformed`: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° + é€šä¿¡æ‹’å¦ï¼ˆãƒ«ãƒ¼ãƒ—è„±å‡ºï¼‰
  - **ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å˜ä½“ãƒ†ã‚¹ãƒˆ**ï¼ˆtests/ipc_migration_test.rs L629-728ï¼‰
    - `test_version_check_major_mismatch`: ãƒ¡ã‚¸ãƒ£ãƒ¼ä¸ä¸€è‡´æ¤œå‡ºï¼ˆ2.0 vs 1.0ï¼‰
    - `test_version_check_minor_mismatch`: ãƒã‚¤ãƒŠãƒ¼ä¸ä¸€è‡´æ¤œå‡ºï¼ˆ1.1 vs 1.0ï¼‰
    - `test_version_check_patch_compatible`: ãƒ‘ãƒƒãƒå·®ç•°è¨±å®¹ï¼ˆ1.0.2 vs 1.0.1ï¼‰
    - `test_version_check_malformed`: ä¸æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œå‡ºï¼ˆ"invalid", "1.x", ""ï¼‰
    - `test_ipc_message_version_check_integration`: IpcMessageçµ±åˆãƒ†ã‚¹ãƒˆ
  - **meeting-minutes-coreäº’æ›æ€§ãƒ†ã‚¹ãƒˆå®Ÿè£…**ï¼ˆtests/ipc_migration_test.rs L730-850ï¼‰
    - `test_fake_implementation_compatibility`: MVP0ï¼ˆFakeï¼‰ãŒæ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç„¡è¦–ï¼ˆSTT-REQ-007.3ï¼‰
    - `test_mvp0_minimal_response_accepted_by_mvp1`: MVP0æœ€å°å¿œç­”ã‚’MVP1ãŒå—å®¹ï¼ˆSTT-REQ-007.3ï¼‰
    - `test_legacy_and_new_protocol_coexistence`: Legacyã¨Newå½¢å¼ã®å…±å­˜æ¤œè¨¼ï¼ˆSTT-REQ-007.1ï¼‰
  - **æ—¢å­˜ãƒ†ã‚¹ãƒˆæ¤œè¨¼**ï¼ˆtests/ipc_migration_test.rsï¼‰
    - `test_forward_compatibility_unknown_fields`: æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–å‹•ä½œï¼ˆæ—¢å­˜ï¼‰
    - `test_version_field_omitted_backward_compat`: versionãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çœç•¥æ™‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆæ—¢å­˜ï¼‰
    - `test_new_format_error_response`: ã‚¨ãƒ©ãƒ¼å¿œç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆSTT-REQ-007.5ã€æ—¢å­˜ï¼‰
  - **å…¨26ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆ18 â†’ 25 â†’ 26ã«å¢—åŠ ã€P0ä¿®æ­£ã§å®Ÿè£…æ¤œè¨¼ãƒ†ã‚¹ãƒˆè¿½åŠ ï¼‰
  - **ã‚¨ãƒ©ãƒ¼å¿œç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: æ—¢ã«Task 7.1ã§å®Ÿè£…æ¸ˆã¿ï¼ˆIpcMessage::Errorï¼‰
  - _Requirements: STT-REQ-007.3, STT-REQ-007.5, STT-REQ-007.6ï¼ˆP0ä¿®æ­£å®Œäº†ã€å®Œå…¨å®Ÿè£…ï¼‰_

- [ ] 7.3 IPCãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯æ ¹æœ¬è§£æ±ºï¼ˆIPC Stdin/Stdout Mutexåˆ†é›¢ + Audio Callback Backpressureå†è¨­è¨ˆï¼‰
  - **Priority**: ğŸ”´ P0 Critical
  - **Estimated Time**: 3-4æ—¥
  - **Related ADR**:
    - âŒ ADR-008 (Rejected - æ§‹é€ çš„ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯æ¬ é™¥)
    - âŒ ADR-009 (Rejected - Mutexå…±æœ‰å•é¡Œ + blocking_sendå•é¡Œ)
    - âœ… ADR-011 (IPC Stdin/Stdout Mutex Separation)
    - âœ… ADR-012 (Audio Callback Backpressure Redesign)
  - **Background**: ADR-009ã®ç¬¬3å›æŠ€è¡“æ¤œè¨¼ã§2ã¤ã®æ§‹é€ çš„æ¬ é™¥ã‚’ç™ºè¦‹
    - **P0 Mutexå…±æœ‰ã«ã‚ˆã‚‹ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³**: `Arc<Mutex<PythonSidecarManager>>`å…±æœ‰ã«ã‚ˆã‚Šã€Sender/Receiverä¸¦è¡Œå®Ÿè¡ŒãŒå®Ÿè³ªã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚Œã€ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ãŒè§£æ¶ˆã•ã‚Œãªã„
    - **P0 blocking_send()ã«ã‚ˆã‚‹CPALã‚¹ãƒˆãƒªãƒ¼ãƒ åœæ­¢**: Pythonç•°å¸¸æ™‚ã«ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒæœ€å¤§2ç§’ãƒ–ãƒ­ãƒƒã‚¯ â†’ CPALã®OSãƒãƒƒãƒ•ã‚¡ï¼ˆ128msï¼‰ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒ³ â†’ ã‚¹ãƒˆãƒªãƒ¼ãƒ åœæ­¢
  - **Solution**:
    - ADR-011: stdin/stdoutã‚’ç‹¬ç«‹Mutexã«åˆ†é›¢ â†’ çœŸã®å…¨äºŒé‡é€šä¿¡å®Ÿç¾
    - ADR-012: try_send() + Large Ring Buffer + UI Notification â†’ CPALä¿è­·

- [ ] 7.3.1 ADR-011/012ã¨Design.mdæ›´æ–°ï¼ˆâœ… å®Œäº† 2025-10-13ï¼‰
  - ADR-009ã‚’RejectedåŒ–ï¼ˆ2ã¤ã®æ§‹é€ çš„æ¬ é™¥ï¼‰
  - ADR-011ä½œæˆ: IPC Stdin/Stdout Mutex Separation
  - ADR-012ä½œæˆ: Audio Callback Backpressure Redesign
  - Design.md Section 7.9å…¨é¢æ›´æ–°: ADR-011/012æº–æ‹ 
  - spec.jsonæ›´æ–°: phase=design-review, BLOCK-002/003è¿½åŠ 
  - _Estimated: 3æ™‚é–“_
  - _Requirements: STT-REQ-007.7_

- [ ] 7.3.2 PythonSidecarManageræ§‹é€ ä½“å¤‰æ›´ï¼ˆADR-011ï¼‰
  - **æ§‹é€ ä½“å¤‰æ›´**:
    - `stdin: Arc<tokio::Mutex<ChildStdin>>` è¿½åŠ 
    - `stdout: Arc<tokio::Mutex<BufReader<ChildStdout>>>` è¿½åŠ 
    - `child_handle: Arc<tokio::Mutex<Child>>` ã«å¤‰æ›´
  - **send_message()å®Ÿè£…**: stdinã®ã¿ãƒ­ãƒƒã‚¯ã€å³åº§ã«è§£æ”¾
  - **receive_message()å®Ÿè£…**: stdoutã®ã¿ãƒ­ãƒƒã‚¯ã€å³åº§ã«è§£æ”¾
  - **new()å®Ÿè£…**: Child.stdin/stdoutå–å¾—ã€MutexåˆæœŸåŒ–
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: `test_send_receive_independence`
  - _Estimated: 2æ™‚é–“_
  - _Requirements: STT-REQ-007.7, ADR-011_

- [ ] 7.3.3 Sender/Receiverä¸¦è¡Œã‚¿ã‚¹ã‚¯å®Ÿè£…ï¼ˆADR-011æº–æ‹ ï¼‰
  - **Sender Task**: ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’é€£ç¶šé€ä¿¡ï¼ˆstdinã®ã¿ãƒ­ãƒƒã‚¯ï¼‰
  - **Receiver Task**: ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€£ç¶šå—ä¿¡ï¼ˆstdoutã®ã¿ãƒ­ãƒƒã‚¯ï¼‰
  - `SessionHandle` æ§‹é€ ä½“å®Ÿè£…ï¼ˆsender_handle, receiver_handle, metricsï¼‰
  - mpsc channel: 500ãƒ•ãƒ¬ãƒ¼ãƒ ãƒãƒƒãƒ•ã‚¡ï¼ˆ5ç§’åˆ†ã€ADR-012æº–æ‹ ï¼‰
  - broadcast channel: 1000ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒƒãƒ•ã‚¡
  - **é‡è¦**: Receiverã¯`speech_end`ã§breakã—ãªã„ï¼ˆæ¬¡ãƒãƒ£ãƒ³ã‚¯ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚‚å—ä¿¡ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: `test_concurrent_sender_receiver_no_contention`
  - _Estimated: 3-4æ™‚é–“_
  - _Requirements: STT-REQ-007.7, ADR-011_

- [ ] 7.3.4 Audio Callback try_send() Backpressureå®Ÿè£…ï¼ˆADR-012ï¼‰
  - **Drop detection flagå®Ÿè£…**: `Arc<AtomicBool>`
  - **Audio Callbackå¤‰æ›´**:
    - `frame_tx.try_send()` ä½¿ç”¨ï¼ˆblockingæ“ä½œç¦æ­¢ï¼‰
    - `TrySendError::Full` æ™‚ã€drop_flag.store(true)
    - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯å¸¸ã«å³åº§ã«returnï¼ˆ<10Î¼sï¼‰
  - **UI Notification Taskå®Ÿè£…**:
    - 100ms pollingã€drop_flagç¢ºèª
    - `stt_error` ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œï¼ˆPythonç•°å¸¸æ¤œå‡ºï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: `test_try_send_no_blocking`
  - _Estimated: 2æ™‚é–“_
  - _Requirements: STT-REQ-007.7, ADR-012_

- [ ] 7.3.5 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆADR-012ï¼‰
  - **stt_error ãƒªã‚¹ãƒŠãƒ¼å®Ÿè£…**: `src/lib/stores/sttStore.ts`
  - éŒ²éŸ³å¼·åˆ¶åœæ­¢ï¼ˆstopRecordingï¼‰
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¨ãƒ©ãƒ¼é€šçŸ¥ï¼ˆ10ç§’è¡¨ç¤ºï¼‰
  - å†èµ·å‹•ãƒœã‚¿ãƒ³å®Ÿè£…
  - _Estimated: 1æ™‚é–“_
  - _Requirements: STT-REQ-007.7, ADR-012_

- [ ] 7.3.6 Python VADçŠ¶æ…‹ãƒ™ãƒ¼ã‚¹no_speechåˆ¤å®šå®Ÿè£…ï¼ˆâœ… å®Œäº† 2025-10-13ï¼‰
  - **AudioPipelineæ–°è¦ãƒ¡ã‚½ãƒƒãƒ‰**:
    - `is_in_speech() -> bool`: VADãŒéŸ³å£°æ¤œå‡ºä¸­ã‹ãƒã‚§ãƒƒã‚¯
    - `has_buffered_speech() -> bool`: STTå‡¦ç†å¾…ã¡ãƒãƒƒãƒ•ã‚¡ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
  - **main.pyä¿®æ­£**:
    - `if not speech_detected` åˆ¤å®šã§VADçŠ¶æ…‹ç¢ºèª
    - `is_in_speech() or has_buffered_speech()` ãªã‚‰no_speeché€ä¿¡ã—ãªã„
    - VADç„¡éŸ³ç¢ºèªæ™‚ã®ã¿no_speeché€ä¿¡
  - Pythonãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: `test_no_false_no_speech_during_utterance`
  - _Estimated: 1-2æ™‚é–“_
  - _Requirements: STT-REQ-007.7_

- [ ] 7.3.7 Error Handling & Graceful Shutdownï¼ˆADR-011ï¼‰
  - **stdin/stdoutç‹¬ç«‹ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:
    - stdinæ›¸ãè¾¼ã¿ã‚¨ãƒ©ãƒ¼: Sender Taskã®ã¿å½±éŸ¿ã€Receiverç¶™ç¶š
    - stdoutèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: Receiver Taskã®ã¿å½±éŸ¿ã€Senderç¶™ç¶š
  - **JSONãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼å‡¦ç†**ï¼ˆReceiver Taskã§å®Ÿæ–½ï¼‰:
    - `serde_json::from_value()` å¤±æ•—æ™‚ã«ç ´æã‚¤ãƒ™ãƒ³ãƒˆã‚’broadcastã—ãªã„
    - ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ã‚¿å¢—åŠ ã€10å›é€£ç¶šã§ã‚¿ã‚¹ã‚¯çµ‚äº†
  - **Exponential backoff**ï¼ˆReceiver Taskã§å®Ÿæ–½ï¼‰:
    - IPCå—ä¿¡ã‚¨ãƒ©ãƒ¼æ™‚: 100ms * 2^nï¼ˆmax 3.2sï¼‰
    - 10å›é€£ç¶šã‚¨ãƒ©ãƒ¼ã§Receiverçµ‚äº†
  - **Graceful shutdown**:
    - `frame_tx.close()` â†’ Senderçµ‚äº†
    - `sender_handle.await` â†’ Senderå®Œäº†å¾…ã¡
    - `receiver_handle.abort()` â†’ Receiverå¼·åˆ¶çµ‚äº†
    - `metrics.report()` â†’ æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆ
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: `test_error_recovery_with_backoff`
  - _Estimated: 2æ™‚é–“_
  - _Requirements: STT-REQ-007.7, ADR-011_

- [ ] 7.3.8 E2Eãƒ†ã‚¹ãƒˆã¨æ¤œè¨¼ï¼ˆADR-011/012ï¼‰
  - **ADR-011 Tests**:
    - `test_concurrent_send_receive`: 100ãƒ•ãƒ¬ãƒ¼ãƒ é€ä¿¡ä¸­ã«50ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡ã€Mutexç«¶åˆãªã—ç¢ºèª
    - `test_long_utterance_no_deadlock`: 1200ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ120ç§’ï¼‰é€ä¿¡ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãªã—ç¢ºèª
    - `test_stdin_error_independence`: stdinæ›¸ãè¾¼ã¿ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚receiveç¶™ç¶šç¢ºèª
    - `test_stdout_error_independence`: stdoutèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚sendç¶™ç¶šç¢ºèª
  - **ADR-012 Tests**:
    - `test_python_hang_detection`: Python 10ç§’sleepã€501ãƒ•ãƒ¬ãƒ¼ãƒ ç›®ã§UIé€šçŸ¥ç¢ºèª
    - `test_normal_operation_no_drop`: 10000ãƒ•ãƒ¬ãƒ¼ãƒ é€ä¿¡ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ‰ãƒ­ãƒƒãƒ—ç‡ < 0.01%ç¢ºèª
    - `test_temporary_load_no_drop`: Python 3ç§’é…å»¶ã€500ãƒ•ãƒ¬ãƒ¼ãƒ å†…ã§ãƒ‰ãƒ­ãƒƒãƒ—ãªã—ç¢ºèª
    - `test_no_false_no_speech_during_utterance`: ç™ºè©±ç¶™ç¶šä¸­ã®no_speechèª¤é€ä¿¡ãªã—ç¢ºèªï¼ˆPythonå´å®Ÿè£…æ¸ˆã¿ï¼‰
  - _Estimated: 4-5æ™‚é–“_
  - _Requirements: STT-REQ-007.7, ADR-011/012_

- [ ] 7.3.9 Metrics and Rollback Strategyï¼ˆADR-011/012ï¼‰
  - **SessionMetricså®Ÿè£…**:
    - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ : `mutex_contention_count`, `stdin_lock_duration_us`, `stdout_lock_duration_us`, `concurrent_operations_count`, `python_hangs_detected`, `callback_duration_us`
    - ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã« `report()` ãƒ¡ã‚½ãƒƒãƒ‰ã§ä¸€æ‹¬å‡ºåŠ›
  - **Alert Conditionså®Ÿè£…**:
    - mutex_contention_count > 100/ç§’ï¼ˆæƒ³å®š0ï¼‰
    - frames_dropped > 100ï¼ˆPythonç•°å¸¸ï¼‰
    - callback_duration_us > 100ï¼ˆCPALåœæ­¢ãƒªã‚¹ã‚¯ï¼‰
  - Feature flagè¿½åŠ ï¼ˆ`USE_STDIN_STDOUT_SEPARATED_MUTEX`ï¼‰
  - Rollbackæ‰‹é †æ–‡æ›¸åŒ–
  - **Success Criteriaæ¤œè¨¼** (ADR-011/012):
    - âœ… é•·æ™‚é–“ç™ºè©±ï¼ˆ120ç§’ï¼‰ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ãªã—ï¼ˆADR-011ï¼‰
    - âœ… Mutexç«¶åˆç™ºç”Ÿç‡ = 0%ï¼ˆADR-011ï¼‰
    - âœ… CPALä¿è­·ï¼ˆAudio callback <10Î¼sï¼‰ï¼ˆADR-012ï¼‰
    - âœ… Pythonç•°å¸¸æ¤œå‡º < 100msï¼ˆADR-012ï¼‰
    - âœ… æ­£å¸¸å‹•ä½œæ™‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ dropç‡ < 0.01%ï¼ˆADR-012ï¼‰
    - âœ… æ—¢å­˜ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼ˆRust 26 + Python 143ï¼‰
  - _Estimated: 2æ™‚é–“_
  - _Requirements: STT-REQ-007.7, ADR-011/012_

- [ ] 8. WebSocketãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‹¡å¼µï¼ˆRustå´ï¼‰
- [ ] 8.1 WebSocketãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‹¡å¼µã¨Chromeæ‹¡å¼µé€£æº
  - å¤±æ•—ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼ï¼‰
  - æ‹¡å¼µãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼ã®å®Ÿè£…ï¼ˆconfidenceã€languageã€processing_time_msè¿½åŠ ï¼‰
  - Chromeæ‹¡å¼µã¸ã®é…ä¿¡æ©Ÿèƒ½
  - æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–ã®æ¤œè¨¼
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¢ƒç•ŒåŸå‰‡ã®æ¤œè¨¼ï¼ˆChromeæ‹¡å¼µã¯æ©Ÿå¯†æƒ…å ±éä¿å­˜ã€å¹³æ–‡é€ä¿¡ç¦æ­¢ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-008.1, Principle 3ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è²¬ä»»å¢ƒç•Œï¼‰_

- [ ] 9. UIæ‹¡å¼µã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šæ©Ÿèƒ½ï¼ˆRust/Reactï¼‰
- [ ] 9.1 éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹é¸æŠUI
  - å¤±æ•—ã™ã‚‹E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆãƒ‡ãƒã‚¤ã‚¹é¸æŠãƒ•ãƒ­ãƒ¼ï¼‰
  - ãƒ‡ãƒã‚¤ã‚¹ä¸€è¦§è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ãƒ‡ãƒã‚¤ã‚¹é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
  - é¸æŠãƒ‡ãƒã‚¤ã‚¹ã®è¨­å®šä¿å­˜æ©Ÿèƒ½
  - E2Eãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-001.3_

- [ ] 9.2 Whisperãƒ¢ãƒ‡ãƒ«é¸æŠUI
  - å¤±æ•—ã™ã‚‹E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆãƒ¢ãƒ‡ãƒ«é¸æŠãƒ•ãƒ­ãƒ¼ã€è­¦å‘Šè¡¨ç¤ºï¼‰
  - ãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºé¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼ˆtinyã€baseã€smallã€mediumã€large-v3ï¼‰
  - è‡ªå‹•é¸æŠã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®ãƒˆã‚°ãƒ«
  - ãƒªã‚½ãƒ¼ã‚¹è¶…éè­¦å‘Šã®è¡¨ç¤º
  - E2Eãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-006.4_

- [ ] 9.3 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰è¨­å®šUI
  - å¤±æ•—ã™ã‚‹E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰è¨­å®šãƒ•ãƒ­ãƒ¼ï¼‰
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰å¼·åˆ¶ã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
  - ãƒãƒ³ãƒ‰ãƒ«ãƒ¢ãƒ‡ãƒ«ä½¿ç”¨çŠ¶æ…‹ã®è¡¨ç¤º
  - è¨­å®šä¿å­˜æ©Ÿèƒ½
  - E2Eãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-002.6_

- [ ] 9.4 ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã¨ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆé€šçŸ¥UI
  - å¤±æ•—ã™ã‚‹E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆé€šçŸ¥è¡¨ç¤ºã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°æ“ä½œï¼‰
  - ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆé€šçŸ¥ã®è¡¨ç¤ºï¼ˆã€Œãƒ¢ãƒ‡ãƒ«å¤‰æ›´: {old}â†’{new}ã€ï¼‰
  - ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
  - E2Eãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-006.9, STT-REQ-006.10_

- [ ] 9.5 ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†UI
  - å¤±æ•—ã™ã‚‹E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ã€å†ç”Ÿã€å‰Šé™¤ãƒ•ãƒ­ãƒ¼ï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³è©³ç´°è¡¨ç¤ºï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€æ–‡å­—èµ·ã“ã—çµæœï¼‰
  - éŸ³å£°å†ç”Ÿæ©Ÿèƒ½
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤æ©Ÿèƒ½
  - E2Eãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-005.5, STT-REQ-005.6_

- [ ] 9.6 å®Ÿè£…ã¨ã®ã‚®ãƒ£ãƒƒãƒ—æ¤œè¨¼
  - /kiro:validate-gap meeting-minutes-stt ã‚’å®Ÿè¡Œ
  - æ¤œå‡ºã•ã‚ŒãŸã‚®ãƒ£ãƒƒãƒ—ã‚’è¨˜éŒ²ã—ã€ä¿®æ­£ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆ
  - _Requirements: å…¨è¦ä»¶ï¼ˆã‚®ãƒ£ãƒƒãƒ—æ¤œè¨¼ï¼‰_


- [ ] 10. çµ±åˆã¨E2Eãƒ†ã‚¹ãƒˆ
- [ ] 10.1 éŸ³å£°éŒ²éŸ³â†’VADâ†’STTâ†’ä¿å­˜ã®å®Œå…¨ãƒ•ãƒ­ãƒ¼çµ±åˆãƒ†ã‚¹ãƒˆ
  - å¤±æ•—ã™ã‚‹E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆå…¨ä½“ãƒ•ãƒ­ãƒ¼ï¼‰
  - RealAudioDeviceâ†’AudioStreamBridgeâ†’PythonSidecarâ†’VADâ†’WhisperSTTEngineâ†’LocalStorageServiceã®çµ±åˆ
  - éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆã¨ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆã®é…ä¿¡æ¤œè¨¼
  - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¸ã®ä¿å­˜æ¤œè¨¼
  - E2Eãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-001, STT-REQ-002, STT-REQ-003, STT-REQ-005_

- [ ] 10.2 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯E2Eãƒ†ã‚¹ãƒˆ
  - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒãƒ³ãƒ‰ãƒ«baseãƒ¢ãƒ‡ãƒ«ã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¤œè¨¼
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³èµ·å‹•ã‹ã‚‰æ–‡å­—èµ·ã“ã—å®Œäº†ã¾ã§ã®ãƒ•ãƒ­ãƒ¼æ¤œè¨¼
  - _Requirements: STT-REQ-002.4, STT-REQ-002.5, STT-REQ-002.6_

- [ ] 10.3 å‹•çš„ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰E2Eãƒ†ã‚¹ãƒˆ
  - CPU/ãƒ¡ãƒ¢ãƒªè² è·ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ¤œè¨¼
  - éŸ³å£°ã‚»ã‚°ãƒ¡ãƒ³ãƒˆå¢ƒç•Œã§ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹åˆ‡ã‚Šæ›¿ãˆæ¤œè¨¼
  - UIé€šçŸ¥ã®è¡¨ç¤ºç¢ºèª
  - _Requirements: STT-REQ-006.6, STT-REQ-006.7, STT-REQ-006.8, STT-REQ-006.9_

- [ ] 10.4 ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­/å†æ¥ç¶šE2Eãƒ†ã‚¹ãƒˆ
  - ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - è‡ªå‹•å†æ¥ç¶šãƒ•ãƒ­ãƒ¼æ¤œè¨¼ï¼ˆæœ€å¤§3å›ï¼‰
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ã®è¡¨ç¤ºç¢ºèª
  - _Requirements: STT-REQ-004.9, STT-REQ-004.10, STT-REQ-004.11_

- [ ] 10.5 ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ E2Eãƒ†ã‚¹ãƒˆ
  - macOSã€Windowsã€Linuxå„ç’°å¢ƒã§ã®éŸ³å£°éŒ²éŸ³æ¤œè¨¼
  - ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚­ãƒ£ãƒ—ãƒãƒ£æ¤œè¨¼
  - OSå›ºæœ‰APIçµ±åˆã®å‹•ä½œç¢ºèª
  - _Requirements: STT-REQ-004.3, STT-REQ-004.4, STT-REQ-004.5, STT-REQ-004.6, STT-REQ-004.7, STT-REQ-004.8_

- [ ] 10.6 IPC/WebSocketå¾Œæ–¹äº’æ›æ€§E2Eãƒ†ã‚¹ãƒˆ
  - meeting-minutes-coreï¼ˆFakeå®Ÿè£…ï¼‰ã¨ã®äº’æ›æ€§æ¤œè¨¼
  - æ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ å¾Œã®å‹•ä½œç¢ºèª
  - Chromeæ‹¡å¼µã§ã®è¡¨ç¤ºç¢ºèª
  - _Requirements: STT-REQ-007.1, STT-REQ-007.2, STT-REQ-007.3, STT-REQ-008.1, STT-REQ-E2E-001_

- [ ] 10.7 éæ©Ÿèƒ½è¦ä»¶æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
  - Reliabilityæ¤œè¨¼ï¼ˆè‡ªå‹•å†èµ·å‹•ã€ç•°å¸¸çµ‚äº†å¯¾å¿œã€ã‚¨ãƒ©ãƒ¼å›å¾©ï¼‰
  - Compatibilityæ¤œè¨¼ï¼ˆOSåˆ¥å‹•ä½œç¢ºèªã€ä¾å­˜é–¢ä¿‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œè¨¼ï¼‰
  - Securityæ¤œè¨¼ï¼ˆTLSé€šä¿¡ã€ãƒãƒƒã‚·ãƒ¥æ¤œè¨¼ã€ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ï¼‰
  - çµ±åˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-NFR-002, STT-NFR-003, STT-NFR-004_

- [ ] 11. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã¨éæ©Ÿèƒ½è¦ä»¶æ¤œè¨¼
- [ ] 11.1 ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æœ€é©åŒ–
  - éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆãƒ¬ã‚¤ãƒ†ãƒ³ã‚·è¨ˆæ¸¬ï¼ˆç›®æ¨™: 0.5ç§’ä»¥å†…ï¼‰
  - ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆãƒ¬ã‚¤ãƒ†ãƒ³ã‚·è¨ˆæ¸¬ï¼ˆç›®æ¨™: 2ç§’ä»¥å†…ï¼‰
  - ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®šã¨ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
  - _Requirements: STT-NFR-001.1, STT-NFR-001.2_

- [ ] 11.2 ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡æ¤œè¨¼
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è¨ˆæ¸¬ï¼ˆ2æ™‚é–“éŒ²éŸ³ã§æœ€å¤§2GBï¼‰
  - CPUä½¿ç”¨ç‡è¨ˆæ¸¬ï¼ˆç¶™ç¶šçš„ã«50%ä»¥ä¸‹ï¼‰
  - ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡è¨ˆæ¸¬
  - _Requirements: STT-NFR-001.3, STT-NFR-001.4_

- [ ] 11.3 é•·æ™‚é–“ç¨¼åƒå®‰å®šæ€§ãƒ†ã‚¹ãƒˆ
  - 2æ™‚é–“é€£ç¶šéŒ²éŸ³ãƒ†ã‚¹ãƒˆ
  - ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯æ¤œè¨¼
  - ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
  - _Requirements: STT-NFR-001.5, STT-NFR-001.6_

- [ ] 11.4 ãƒ­ã‚°å‡ºåŠ›ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ¤œè¨¼
  - æ§‹é€ åŒ–JSONãƒ­ã‚°å‡ºåŠ›ç¢ºèªï¼ˆsession_idã€componentã€eventã€duration_msï¼‰
  - PIIãƒã‚¹ã‚¯æ¤œè¨¼ï¼ˆéŸ³å£°ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒŠãƒªå†…å®¹ã®éè¨˜éŒ²ï¼‰
  - ã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æç¤ºã®é©åˆ‡æ€§ç¢ºèª
  - _Requirements: STT-NFR-005_

- [ ] 11.5 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
  - TLS 1.2ä»¥é™æ¥ç¶šæ¤œè¨¼ï¼ˆHuggingFace Hubï¼‰
  - ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«SHA256ãƒãƒƒã‚·ãƒ¥æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
  - ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™æ¤œè¨¼
  - éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãƒ•ãƒ­ãƒ¼æ¤œè¨¼
  - _Requirements: STT-NFR-004_

- [ ] 12. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒªãƒ¼ã‚¹æº–å‚™
- [ ] 12.1 UMLå›³ã®ä½œæˆ
  - CMP-001_STT-Audio-Processing-Pipeline.pumlï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³ï¼‰
  - SEQ-001_Audio-Recording-to-Transcription.pumlï¼ˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ï¼‰
  - SEQ-002_Offline-Model-Fallback.pumlï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
  - SEQ-003_Dynamic-Model-Downgrade.pumlï¼ˆå‹•çš„ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼‰
  - CLS-001_Audio-Device-Adapter.pumlï¼ˆã‚¯ãƒ©ã‚¹å›³ï¼‰
  - _Requirements: STT-NFR-005 (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/ãƒ­ã‚°é‹ç”¨æ–¹é‡), STT-REQ-001, STT-REQ-002, STT-REQ-003, STT-REQ-006_

- [ ] 12.2 ADRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨æ›´æ–°
  - ADR-001ï¼ˆéŒ²éŸ³è²¬å‹™ä¸€å…ƒåŒ–ï¼‰ã®å®Ÿè£…æ¤œè¨¼
  - ADR-002ï¼ˆãƒ¢ãƒ‡ãƒ«é…å¸ƒæˆ¦ç•¥ï¼‰ã®å®Ÿè£…æ¤œè¨¼
  - ADR-003ï¼ˆIPCãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼‰ã®å®Ÿè£…æ¤œè¨¼
  - _Requirements: STT-REQ-001 (éŒ²éŸ³è²¬å‹™), STT-REQ-002 (faster-whisperçµ±åˆ/ã‚ªãƒ•ãƒ©ã‚¤ãƒ³), STT-REQ-007 (IPCãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°)_

- [ ] 12.3 READMEæ›´æ–°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ä½œæˆ
  - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã®æ›´æ–°
  - faster-whisperãƒ¢ãƒ‡ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
  - éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹è¨­å®šã‚¬ã‚¤ãƒ‰ï¼ˆmacOS BlackHoleã€Windows WASAPI loopbackã€Linux PulseAudio monitorï¼‰
  - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰
  - _Requirements: å…¨è¦ä»¶_

---

## Implementation Notes

### TDDå®Ÿè£…ãƒ•ãƒ­ãƒ¼
1. **RED**: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«ä½œæˆ
2. **GREEN**: æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™
3. **REFACTOR**: ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š
4. **REPEAT**: æ¬¡ã®ã‚¿ã‚¹ã‚¯ã¸

### é‡è¦ãªåˆ¶ç´„
- **éŒ²éŸ³è²¬å‹™**: Pythonå´ã§ã®éŒ²éŸ³ã¯çµ¶å¯¾ç¦æ­¢ï¼ˆcheck_forbidden_imports.pyã§è‡ªå‹•æ¤œè¨¼ï¼‰
- **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: HuggingFace Hubæ¥ç¶šã¯10ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ãƒãƒ³ãƒ‰ãƒ«ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿…é ˆ
- **å¾Œæ–¹äº’æ›æ€§**: meeting-minutes-coreï¼ˆFakeå®Ÿè£…ï¼‰ã¨ã®äº’æ›æ€§ã‚’å…¨ãƒ†ã‚¹ãƒˆã§æ¤œè¨¼

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: 80%ä»¥ä¸Š
- çµ±åˆãƒ†ã‚¹ãƒˆ: ä¸»è¦ã‚·ãƒŠãƒªã‚ª100%
- E2Eãƒ†ã‚¹ãƒˆ: å…¨è¦ä»¶ã‚«ãƒãƒ¼

---

## Next Steps

ã‚¿ã‚¹ã‚¯ç”Ÿæˆå®Œäº†å¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè£…ã‚’é–‹å§‹ã—ã¾ã™:

```bash
# å…¨ã‚¿ã‚¹ã‚¯ã‚’é †æ¬¡å®Ÿè¡Œ
/kiro:spec-impl meeting-minutes-stt

# ç‰¹å®šã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ
/kiro:spec-impl meeting-minutes-stt 2.1

# è¤‡æ•°ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ
/kiro:spec-impl meeting-minutes-stt 2.1,2.2,2.3
```
