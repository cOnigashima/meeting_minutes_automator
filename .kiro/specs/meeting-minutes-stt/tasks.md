# Implementation Plan

## Overview

meeting-minutes-stt (MVP1) ã¯ã€meeting-minutes-core (Walking Skeleton) ã§ç¢ºç«‹ã—ãŸ3ãƒ—ãƒ­ã‚»ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã«å®Ÿéš›ã®éŸ³å£°å‡¦ç†æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚Fakeå®Ÿè£…ã‚’å®ŸéŸ³å£°å‡¦ç†ã«ç½®ãæ›ãˆã€faster-whisperã«ã‚ˆã‚‹é«˜ç²¾åº¦æ–‡å­—èµ·ã“ã—ã¨webrtcvadã«ã‚ˆã‚‹éŸ³å£°æ´»å‹•æ¤œå‡ºã‚’å®Ÿç¾ã—ã¾ã™ã€‚

**å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: TDD (Test-Driven Development) ã«åŸºã¥ãã€å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«ä½œæˆã—ã€å®Ÿè£…ã‚’è‚‰ä»˜ã‘ã—ãªãŒã‚‰ãƒ†ã‚¹ãƒˆã‚’ç·‘åŒ–ã—ã¾ã™ã€‚ã‚¹ã‚±ãƒ«ãƒˆãƒ³â†’ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆâ†’çµ±åˆãƒ†ã‚¹ãƒˆâ†’E2Eãƒ†ã‚¹ãƒˆã®é †ã§æ®µéšçš„ã«å®Ÿè£…ã—ã¾ã™ã€‚

**é‡è¦ãªè¨­è¨ˆæ±ºå®š**:
- ADR-001: éŒ²éŸ³è²¬å‹™ã®ä¸€å…ƒåŒ–ï¼ˆRustå´AudioDeviceAdapterã®ã¿ã€Pythonå´éŒ²éŸ³ç¦æ­¢ï¼‰
- ADR-002: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ¢ãƒ‡ãƒ«é…å¸ƒæˆ¦ç•¥ï¼ˆHuggingFace Hub + ãƒãƒ³ãƒ‰ãƒ«baseãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
- ADR-003: IPCãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼ˆå¾Œæ–¹äº’æ›æ€§ä¿è¨¼ï¼‰

---

## Implementation Tasks

- [x] 1. åŸºç›¤æ•´å‚™ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæº–å‚™
  - Pythonä¾å­˜é–¢ä¿‚ã®è¿½åŠ ï¼ˆfaster-whisperã€webrtcvadã€numpyï¼‰
  - Rustä¾å­˜é–¢ä¿‚ã®è¿½åŠ ï¼ˆcpalï¼‰
  - é™çš„è§£æã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å‹•ä½œç¢ºèªï¼ˆcheck_forbidden_imports.pyï¼‰
  - é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¤œè¨¼ï¼ˆPython 3.9-3.12ã€Rust 1.70+ï¼‰
  - _Requirements: å…¨è¦ä»¶, STT-REQ-LOG-001_

- [x] 2. å®ŸéŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆRustå´ï¼‰
- [x] 2.1 AudioDeviceAdapter trait ã¨OSåˆ¥å®Ÿè£…ã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆ
  - å¤±æ•—ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆãƒ‡ãƒã‚¤ã‚¹åˆ—æŒ™ã€éŒ²éŸ³é–‹å§‹/åœæ­¢ï¼‰
  - AudioDeviceAdapter traitã®å®šç¾©
  - WasapiAdapterï¼ˆWindowsï¼‰ã€CoreAudioAdapterï¼ˆmacOSï¼‰ã€AlsaAdapterï¼ˆLinuxï¼‰ã®ç©ºå®Ÿè£…
  - OSæ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ã¨ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼é¸æŠæ©Ÿèƒ½
  - _Requirements: STT-REQ-001.1, STT-REQ-001.2, STT-REQ-004.3, STT-REQ-004.4, STT-REQ-004.5_

- [x] 2.2 ãƒ‡ãƒã‚¤ã‚¹åˆ—æŒ™æ©Ÿèƒ½ã®å®Ÿè£…
  - ãƒ‡ãƒã‚¤ã‚¹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½ï¼ˆåå‰ã€IDã€ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã€ãƒãƒ£ãƒ³ãƒãƒ«æ•°ï¼‰
  - OSå›ºæœ‰éŸ³å£°APIçµ±åˆï¼ˆWASAPIã€CoreAudioã€ALSAï¼‰
  - ãƒ‡ãƒã‚¤ã‚¹ä¸€è¦§ã®ã‚½ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-001.1, STT-REQ-001.2_

- [x] 2.3 éŸ³å£°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚­ãƒ£ãƒ—ãƒãƒ£æ©Ÿèƒ½ã®å®Ÿè£…
  - 16kHz mono PCMéŸ³å£°ã‚¹ãƒˆãƒªãƒ¼ãƒ é–‹å§‹æ©Ÿèƒ½ï¼ˆåŸºæœ¬å®Ÿè£…å®Œäº†ã€ãƒªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã¯2.4ã§å¯¾å¿œï¼‰
  - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‹éŸ³å£°ãƒ‡ãƒ¼ã‚¿å‡¦ç†æ©Ÿèƒ½ï¼ˆAudioChunkCallbackï¼‰
  - åˆ¥ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ç®¡ç†ï¼ˆSyncåˆ¶ç´„å›é¿ï¼‰
  - CoreAudio/WASAPI/ALSAçµ±åˆå®Ÿè£…
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Requirements: STT-REQ-001.4, STT-REQ-001.5, STT-REQ-001.6_

- [x] 2.4 ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªå¯¾å¿œ
  - macOS BlackHoleç­‰ã®ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹èªè­˜æ©Ÿèƒ½ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼‰
  - Windows Stereo Mix/Wave Out Mixèªè­˜
  - Linux PulseAudio monitorãƒ‡ãƒã‚¤ã‚¹èªè­˜ï¼ˆ"Monitor of", ".monitor"ï¼‰
  - `AudioDeviceInfo.is_loopback`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  - ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ãƒ‡ãƒã‚¤ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
  - 3ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ çµ±åˆå®Ÿè£…å®Œäº†
  - _Requirements: STT-REQ-004.6, STT-REQ-004.7, STT-REQ-004.8_

- [x] 2.5 ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­æ¤œå‡ºã¨è‡ªå‹•å†æ¥ç¶šæ©Ÿèƒ½
  - ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­ã‚¤ãƒ™ãƒ³ãƒˆæ¤œå‡ºæ©Ÿèƒ½ï¼ˆAudioDeviceEvent enumï¼‰
  - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¨˜éŒ²æ©Ÿèƒ½
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥æ©Ÿèƒ½ï¼ˆã€ŒéŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ãŒåˆ‡æ–­ã•ã‚Œã¾ã—ãŸã€ï¼‰- app.emit() çµ±åˆ
  - Liveness watchdogï¼ˆ250msé–“éš”ã€1200msé–¾å€¤ï¼‰
  - ãƒ‡ãƒã‚¤ã‚¹ãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆ3ç§’é–“éš”ï¼‰
  - å…¨OSå¯¾å¿œï¼ˆCoreAudio/WASAPI/ALSAï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–
  - _Note: è‡ªå‹•å†æ¥ç¶šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆSTT-REQ-004.11ï¼‰ã¯ãƒ•ã‚§ãƒ¼ã‚ºå¤–ã€åˆ¥ã‚¿ã‚¹ã‚¯ã§å®Ÿè£…äºˆå®š_
  - _Requirements: STT-REQ-004.9, STT-REQ-004.10, STT-REQ-004.11_

- [x] 2.6 ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ç¢ºèªæ©Ÿèƒ½
  - OSå›ºæœ‰ã®è¨±å¯ç¢ºèªãƒ­ã‚¸ãƒƒã‚¯ï¼ˆCoreAudio/WASAPI/ALSAï¼‰
  - è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆOSè‡ªå‹•è¡¨ç¤ºï¼‰
  - è¨±å¯æ‹’å¦æ™‚ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼ˆé©åˆ‡ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
  - AudioDeviceAdapter::check_permission()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆï¼ˆå…¨36ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-004.1, STT-REQ-004.2_
  - _Note: ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ‡ãƒã‚¤ã‚¹é¸æŠUI/UXã¯ Task 9.1 ã§ç¶™ç¶šå®Ÿè£…ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½ã¯å®Œäº†ï¼‰_

- [x] 3. faster-whisperçµ±åˆã¨ãƒ¢ãƒ‡ãƒ«ç®¡ç†æ©Ÿèƒ½ï¼ˆPythonå´ï¼‰
- [x] 3.1 WhisperSTTEngineã‚¹ã‚±ãƒ«ãƒˆãƒ³ã¨åˆæœŸåŒ–ãƒ­ã‚¸ãƒƒã‚¯
  - å¤±æ•—ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆï¼ˆãƒ¢ãƒ‡ãƒ«ãƒ­ãƒ¼ãƒ‰ã€æ¨è«–ï¼‰
  - WhisperSTTEngineã‚¯ãƒ©ã‚¹ã®å®šç¾©
  - ãƒ¢ãƒ‡ãƒ«æ¤œå‡ºå„ªå…ˆé †ä½ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š â†’ HuggingFace Hubã‚­ãƒ£ãƒƒã‚·ãƒ¥ â†’ ãƒãƒ³ãƒ‰ãƒ«ï¼‰
  - faster-whisperãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åˆæœŸåŒ–
  - _Requirements: STT-REQ-002.1, STT-REQ-002.10_

- [x] 3.2 ãƒªã‚½ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«é¸æŠæ©Ÿèƒ½
  - ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹æ¤œå‡ºï¼ˆCPUã‚³ã‚¢æ•°ã€ãƒ¡ãƒ¢ãƒªå®¹é‡ã€GPUåˆ©ç”¨å¯å¦ï¼‰
  - ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ï¼ˆGPU+8GBâ†’large-v3ã€CPU+4GBâ†’smallç­‰ï¼‰
  - æ‰‹å‹•ãƒ¢ãƒ‡ãƒ«é¸æŠã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰æ©Ÿèƒ½
  - ãƒªã‚½ãƒ¼ã‚¹è¶…éæ™‚ã®è­¦å‘Šãƒ­ã‚°è¨˜éŒ²
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ15ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-006.1, STT-REQ-006.2, STT-REQ-006.3, STT-REQ-006.4, STT-REQ-006.5_

- [x] 3.3 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
  - HuggingFace Hubã‹ã‚‰ã®ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ10ç§’ï¼‰
  - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒãƒ³ãƒ‰ãƒ«baseãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒå¯¾å¿œï¼ˆHTTPS_PROXYã€HTTP_PROXYç’°å¢ƒå¤‰æ•°ï¼‰
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰å¼·åˆ¶è¨­å®šæ©Ÿèƒ½
  - ãƒ¢ãƒ‡ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ï¼ˆ~/.cache/huggingface/hub/ï¼‰
  - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é€²æ—ãƒ­ã‚°è¨˜éŒ²
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ14ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-002.3, STT-REQ-002.4, STT-REQ-002.5, STT-REQ-002.6, STT-REQ-002.7, STT-REQ-002.8, STT-REQ-002.9_

- [x] 3.4 faster-whisperæ¨è«–æ©Ÿèƒ½
  - éŸ³å£°ãƒ‡ãƒ¼ã‚¿ï¼ˆ16-bit PCMï¼‰ã®numpyé…åˆ—å¤‰æ›ã¨float32æ­£è¦åŒ–
  - faster-whisperãƒ¢ãƒ‡ãƒ«ã§ã®æ¨è«–å®Ÿè¡Œï¼ˆlanguage="ja", beam_size=5ï¼‰
  - JSONå¿œç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç”Ÿæˆï¼ˆtextã€confidenceã€languageã€is_finalã€processing_time_msï¼‰
  - ä¸æ­£éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼ˆç©ºãƒ‡ãƒ¼ã‚¿ã€ç ´æãƒ‡ãƒ¼ã‚¿ï¼‰
  - avg_logprobã‹ã‚‰confidenceã¸ã®å¤‰æ›ï¼ˆexponentialå¤‰æ›ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ10ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-002.11, STT-REQ-002.12, STT-REQ-002.13, STT-REQ-002.14_

- [x] 4. éŸ³å£°æ´»å‹•æ¤œå‡ºï¼ˆVADï¼‰æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆPythonå´ï¼‰
- [x] 4.1 VoiceActivityDetectorã‚¹ã‚±ãƒ«ãƒˆãƒ³ã¨webrtcvadåˆæœŸåŒ–
  - VoiceActivityDetectorã‚¯ãƒ©ã‚¹ã®å®šç¾©ã¨webrtcvadåˆæœŸåŒ–ï¼ˆaggressiveness=2ï¼‰
  - éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®10mså˜ä½ãƒ•ãƒ¬ãƒ¼ãƒ åˆ†å‰²æ©Ÿèƒ½ï¼ˆ160 samples = 320 bytesï¼‰
  - is_speech()ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã®éŸ³å£°/ç„¡éŸ³åˆ¤å®š
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ9ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Requirements: STT-REQ-003.1, STT-REQ-003.2_

- [x] 4.2 éŸ³å£°/ç„¡éŸ³åˆ¤å®šæ©Ÿèƒ½
  - process_frame()ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã®éŸ³å£°/ç„¡éŸ³çŠ¶æ…‹ç®¡ç†
  - ç™ºè©±é–‹å§‹æ¤œå‡ºï¼ˆéŸ³å£°ãƒ•ãƒ¬ãƒ¼ãƒ 30ãƒ•ãƒ¬ãƒ¼ãƒ =0.3ç§’ä»¥ä¸Šé€£ç¶šã§speech_startã‚¤ãƒ™ãƒ³ãƒˆï¼‰
  - ç™ºè©±çµ‚äº†æ¤œå‡ºï¼ˆç„¡éŸ³ãƒ•ãƒ¬ãƒ¼ãƒ 50ãƒ•ãƒ¬ãƒ¼ãƒ =0.5ç§’ä»¥ä¸Šé€£ç¶šã§speech_endã‚¤ãƒ™ãƒ³ãƒˆï¼‰
  - ç™ºè©±ã‚»ã‚°ãƒ¡ãƒ³ãƒˆç¢ºå®šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆaudio_dataã€duration_mså«ã‚€segmentè¿”å´ï¼‰
  - çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆå‡¦ç†ï¼ˆéŸ³å£°â†’ç„¡éŸ³ã€ç„¡éŸ³â†’éŸ³å£°ã®é·ç§»æ™‚ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ç·‘åŒ–ï¼ˆ8ãƒ†ã‚¹ãƒˆåˆæ ¼ã€åˆè¨ˆ17ãƒ†ã‚¹ãƒˆï¼‰
  - _Requirements: STT-REQ-003.3, STT-REQ-003.4, STT-REQ-003.5_

- [x] 4.3 éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆã¨ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆã®ç”Ÿæˆé€£æºï¼ˆMVP0äº’æ›ç‰ˆï¼‰
  - AudioPipelineã®main.pyçµ±åˆå®Œäº†ï¼ˆAudioProcessorã‚¯ãƒ©ã‚¹ä½œæˆï¼‰
  - Request-Responseå‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«éµå®ˆï¼ˆSTT-REQ-007.1ï¼‰
  - VADâ†’AudioPipelineâ†’STTæœ¬ç•ªçµŒè·¯æ§‹ç¯‰å®Œäº†ï¼ˆ_handle_process_audioå®Ÿè£…ï¼‰
  - **IPCå®Ÿè£…æ–¹é‡**: 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆâ†’1æœ€çµ‚å¿œç­”ï¼ˆMVP0äº’æ›ï¼‰
  - ä¸­é–“ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆspeech_start, partial_textï¼‰ã¯ãƒ­ã‚°è¨˜éŒ²ã®ã¿ã€IPCé€ä¿¡ãªã—
  - å®Ÿçµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆtest_audio_integration.py: AudioPipelineå‹•ä½œã€IPCçµ±åˆï¼‰
  - **Task 7ã¸ã®å¼•ç¶™ãäº‹é …**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ å‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¿½åŠ ï¼‰
  - _Requirements: STT-REQ-007.1ï¼ˆå¾Œæ–¹äº’æ›æ€§ï¼‰, STT-REQ-003.6, STT-REQ-003.9_
  - _Note: STT-REQ-003.7/003.8ï¼ˆéƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆï¼‰ã¯AudioPipelineå†…éƒ¨å®Ÿè£…æ¸ˆã¿ã€IPCé…ä¿¡ã¯Task 7ã§å®Ÿè£…_

- [x] 5. ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã¨å‹•çš„ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆPythonå´ï¼‰
- [x] 5.1 ResourceMonitor APIå±¤å®Ÿè£…ï¼ˆå®Œäº†ï¼‰
  - ResourceMonitorã‚¯ãƒ©ã‚¹ã®å®šç¾©å®Œäº†
  - ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹æ¤œå‡ºAPIå®Ÿè£…ï¼ˆCPUã€ãƒ¡ãƒ¢ãƒªã€GPUï¼‰
  - ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ«ãƒ¼ãƒ«APIå®Ÿè£…ï¼ˆlarge-v3/medium/small/base/tinyï¼‰
  - ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡å–å¾—APIå®Ÿè£…ï¼ˆget_current_memory_usage, get_current_cpu_usageï¼‰
  - ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰/ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰åˆ¤å®šAPIå®Ÿè£…
  - UIé€šçŸ¥ç”ŸæˆAPIå®Ÿè£…
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆç·‘åŒ–ï¼ˆ27ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
  - _Note: APIå±¤ã®ã¿å®Ÿè£…ã€‚ç›£è¦–ãƒ«ãƒ¼ãƒ—ãƒ»çµ±åˆãƒ»å®Ÿéš›ã®ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿ã¯æœªå®Ÿè£…_
  - _Requirements: STT-REQ-006.1, STT-REQ-006.2, STT-REQ-006.3ï¼ˆéƒ¨åˆ†ï¼‰_

- [x] 5.2 ResourceMonitorç›£è¦–ãƒ«ãƒ¼ãƒ—å®Ÿè£…ï¼ˆå®Œäº†ï¼‰
  - **30ç§’é–“éš”ã®ç›£è¦–ãƒ«ãƒ¼ãƒ—**å®Ÿè£…å®Œäº†ï¼ˆ`start_monitoring()`, `stop_monitoring()`ï¼‰
  - CPUè² è·æŒç¶šåˆ¤å®šã®è‡ªå‹•çŠ¶æ…‹ç®¡ç†å®Ÿè£…å®Œäº†ï¼ˆcpu_high_start_timeã®è‡ªå‹•æ›´æ–°ï¼‰
  - ãƒªã‚½ãƒ¼ã‚¹å›å¾©ã®è‡ªå‹•çŠ¶æ…‹ç®¡ç†å®Ÿè£…å®Œäº†ï¼ˆlow_resource_start_timeã®è‡ªå‹•æ›´æ–°ï¼‰
  - 60ç§’ç¶™ç¶šCPUé«˜è² è·æ¤œå‡ºã¨è‡ªå‹•ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒˆãƒªã‚¬ãƒ¼å®Ÿè£…å®Œäº†
  - 5åˆ†ç¶™ç¶šãƒªã‚½ãƒ¼ã‚¹å›å¾©æ¤œå‡ºã¨è‡ªå‹•ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆå®Ÿè£…å®Œäº†
  - 30ç§’é–“éš”ã®DEBUGãƒ­ã‚°å‡ºåŠ›å®Ÿè£…å®Œäº†
  - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆon_downgrade, on_upgrade_proposal, on_pause_recordingï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆç·‘åŒ–ï¼ˆ4ãƒ†ã‚¹ãƒˆåˆæ ¼ã€åˆè¨ˆ31ãƒ†ã‚¹ãƒˆï¼‰
  - ãƒã‚°ä¿®æ­£: `should_pause_recording()` ã‚’ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡ãƒ™ãƒ¼ã‚¹ã«å¤‰æ›´
  - ãƒã‚°ä¿®æ­£: `get_current_cpu_usage()` ã®1ç§’ãƒ–ãƒ­ãƒƒã‚¯å•é¡Œä¿®æ­£
  - _Note: AudioProcessorã¸ã®çµ±åˆã¯Task 5.3ã§å®Ÿè£…_
  - _Requirements: STT-NFR-001.6, STT-NFR-005.4, STT-REQ-006.7, STT-REQ-006.10ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 5.3 å‹•çš„ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆå®Œäº† + Critical Fixesé©ç”¨æ¸ˆã¿ï¼‰
  - **WhisperSTTEngine.load_model()å®Ÿè£…å®Œäº†**: å‹•çš„ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿ï¼ˆunload â†’ reloadï¼‰
    - **ğŸ”§ Critical Fix**: ãƒªã‚½ãƒ¼ã‚¹ãƒªãƒ¼ã‚¯å¯¾ç­–ã¨ã—ã¦`gc.collect()`è¿½åŠ ï¼ˆline 422ï¼‰
    - **ğŸ”§ Cleanup**: TODOã‚³ãƒ¡ãƒ³ãƒˆå‰Šé™¤ï¼ˆline 368ï¼‰
  - **AudioProcessorã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯çµ±åˆå®Œäº†**: `_handle_model_downgrade`, `_handle_upgrade_proposal`, `_handle_pause_recording`
  - **ResourceMonitorçµ±åˆå®Œäº†**: AudioProcessor.__init__ã§ResourceMonitoråˆæœŸåŒ–ã€current_model/initial_modelè¨­å®š
  - **ğŸ”§ Critical Fix: ç›£è¦–ãƒ«ãƒ¼ãƒ—èµ·å‹•å®Ÿè£…å®Œäº†**ï¼ˆmain.py:299-308ï¼‰
    - `main()`é–¢æ•°ã§30ç§’é–“éš”ã®ç›£è¦–ãƒ«ãƒ¼ãƒ—ã‚’è‡ªå‹•èµ·å‹•
    - ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³æ™‚ã®é©åˆ‡ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†å®Ÿè£…ï¼ˆfinally blockï¼‰
    - **å½±éŸ¿**: ã“ã‚Œã«ã‚ˆã‚Š Task 5.3 ã®å…¨æ©Ÿèƒ½ãŒæœ¬ç•ªç’°å¢ƒã§å®Ÿéš›ã«å‹•ä½œ
  - **IPCé€šçŸ¥é€ä¿¡å®Ÿè£…å®Œäº†**: model_change (cpu_high/memory_high), upgrade_proposal, recording_paused ã‚¤ãƒ™ãƒ³ãƒˆ
  - **ãƒ¡ãƒ¢ãƒªãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£å®Œäº†**: tinyãƒ¢ãƒ‡ãƒ«æ™‚ã®ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¹ã‚­ãƒƒãƒ—å®Ÿè£…ï¼ˆline 501ï¼‰
  - **ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆãƒ­ã‚¸ãƒƒã‚¯æ‹¡å¼µå®Œäº†**: initial_modelã¸ã®ç›´æ¥ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆå®Ÿè£…ï¼ˆline 538-559ï¼‰
  - **çµ±åˆãƒ†ã‚¹ãƒˆç·‘åŒ–å®Œäº†**: TestResourceMonitorIntegrationå…¨5ãƒ†ã‚¹ãƒˆåˆæ ¼
  - **ğŸ”§ ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_get_upgrade_target_respects_initial_model()` è¿½åŠ ï¼ˆinitial_model ceilingç¢ºèªï¼‰
  - **å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼**: 139 passed (+1), 1 skippedï¼ˆãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãªã—ï¼‰
  - _Requirements: STT-REQ-006.7, STT-REQ-006.8, STT-REQ-006.9, STT-REQ-006.10, STT-REQ-006.11, STT-NFR-001.6ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_
  - _Note: Task 5.4ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªæ™‚ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å®Ÿè¡Œï¼‰ã¯åˆ¥ã‚¿ã‚¹ã‚¯ã€‚æœ¬ã‚¿ã‚¹ã‚¯ã¯ææ¡ˆé€ä¿¡ã¾ã§å®Ÿè£…_

  **æ¤œè¨¼æ¸ˆã¿æŒ‡æ‘˜å¯¾å¿œ**:
  - âœ… **æŒ‡æ‘˜1ï¼ˆCriticalï¼‰**: ç›£è¦–ãƒ«ãƒ¼ãƒ—æœªèµ·å‹• â†’ main()ã§èµ·å‹•å®Ÿè£…å®Œäº†
  - âœ… **æŒ‡æ‘˜4ï¼ˆMediumï¼‰**: ãƒªã‚½ãƒ¼ã‚¹ãƒªãƒ¼ã‚¯æ‡¸å¿µ â†’ gc.collect()è¿½åŠ 
  - âŒ **æŒ‡æ‘˜2**: ãƒ¡ãƒ¢ãƒªç›£è¦–æœªå®Ÿè£… â†’ èª¤ã‚Šã€‚line 498ã§å®Ÿè£…æ¸ˆã¿
  - âŒ **æŒ‡æ‘˜3**: get_upgrade_target()ãƒ­ã‚¸ãƒƒã‚¯ãƒã‚° â†’ èª¤ã‚Šã€‚å…ƒã®ãƒ­ã‚¸ãƒƒã‚¯ãŒæ­£ã—ã„

- [x] 5.4 UIé€šçŸ¥ã¨ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆæ©Ÿèƒ½ï¼ˆå®Œäº†ï¼‰
  - **IPCçµŒç”±ã®UIé€šçŸ¥é€ä¿¡å®Ÿè£…å®Œäº†**: upgrade_proposal, model_change, recording_paused ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆTask 5.3ã§å®Ÿè£…æ¸ˆã¿ï¼‰
  - **ãƒªã‚½ãƒ¼ã‚¹å›å¾©ã®è‡ªå¾‹çš„æ¤œå‡ºå®Ÿè£…å®Œäº†**: low_resource_start_timeã®è‡ªå‹•æ›´æ–°ï¼ˆTask 5.3ã§å®Ÿè£…æ¸ˆã¿ã€line 491-499ï¼‰
  - **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªæ™‚ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰è©¦è¡Œå®Ÿè£…å®Œäº†**: approve_upgrade IPCãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ³ãƒ‰ãƒ©è¿½åŠ ï¼ˆmain.py:84-85, 286-349ï¼‰
  - **_handle_approve_upgrade()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**: WhisperSTTEngine.load_model()å‘¼ã³å‡ºã—ã€current_modelæ›´æ–°ã€IPCé€šçŸ¥é€ä¿¡
  - **tinyãƒ¢ãƒ‡ãƒ«ã§ãƒªã‚½ãƒ¼ã‚¹ä¸è¶³æ™‚ã®éŒ²éŸ³ä¸€æ™‚åœæ­¢å®Ÿè¡Œå®Ÿè£…å®Œäº†**: _handle_pause_recording()ï¼ˆTask 5.3ã§å®Ÿè£…æ¸ˆã¿ï¼‰
  - **çµ±åˆãƒ†ã‚¹ãƒˆã®ä½œæˆå®Œäº†**: test_user_approved_upgrade_executionè¿½åŠ ï¼ˆtest_audio_integration.py:732-777ï¼‰
  - **Rustãƒ†ã‚¹ãƒˆç·‘åŒ–å®Œäº†**: 11ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼ˆMockAudioAdapter.check_permission()è¿½åŠ ã«ã‚ˆã‚Šä¿®æ­£ï¼‰
  - **ğŸ”§ P0ãƒã‚°ä¿®æ­£å®Œäº†**ï¼ˆ2025-10-13ï¼‰:
    - **IPCå¿œç­”ã®éå¯¾ç§°æ€§ä¿®æ­£**: æˆåŠŸæ™‚ã«`type: response, id: msg_id`ã‚’è¿½åŠ ï¼ˆSTT-REQ-007.1æº–æ‹ ï¼‰
      - `main.py:330-348`: response + event äºŒæ®µæ§‹æˆã«å¤‰æ›´
      - å¤±æ•—æ™‚ã®ã¿idä»˜ãã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™éå¯¾ç§°æ€§ã‚’è§£æ¶ˆ
    - **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ãƒã‚°ä¿®æ­£**: `test_audio_integration.py:742-758`
      - `ResourceMonitor`ã®importè¿½åŠ ï¼ˆNameErrorè§£æ¶ˆï¼‰
      - ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°å‰Šé™¤ï¼ˆTypeErrorè§£æ¶ˆï¼‰
      - æ‰‹å‹•ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¨­å®šã«å¤‰æ›´ï¼ˆ`initial_model`, `current_model`ï¼‰
  - _Requirements: STT-REQ-006.10ï¼ˆå®Œäº†ï¼‰, STT-REQ-006.11ï¼ˆTask 5.3ã§å®Œäº†ï¼‰, STT-REQ-006.12ï¼ˆå®Œäº†ï¼‰, STT-REQ-007.1ï¼ˆä¿®æ­£å®Œäº†ï¼‰_
  - _Note: E2Eãƒ†ã‚¹ãƒˆ2ä»¶å¤±æ•—ã¯Pythonã‚µã‚¤ãƒ‰ã‚«ãƒ¼èµ·å‹•å•é¡Œï¼ˆTask 5.4ã®å®Ÿè£…ã¨ã¯ç„¡é–¢ä¿‚ï¼‰_

- [x] 6. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆRustå´ï¼‰
- [x] 6.1 LocalStorageServiceã‚¹ã‚±ãƒ«ãƒˆãƒ³ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆâœ… å®Œäº†ï¼‰
  - LocalStorageServiceã‚¯ãƒ©ã‚¹ã®å®šç¾©å®Œäº†ï¼ˆsrc-tauri/src/storage.rsï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³IDç”Ÿæˆæ©Ÿèƒ½å®Ÿè£…å®Œäº†ï¼ˆUUID v4å½¢å¼ï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ©Ÿèƒ½å®Ÿè£…å®Œäº†ï¼ˆ`[app_data_dir]/recordings/[session_id]/`ï¼‰
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ5ä»¶ä½œæˆãƒ»ç·‘åŒ–å®Œäº†
    - `test_generate_session_id`: UUIDå½¢å¼æ¤œè¨¼
    - `test_generate_session_id_uniqueness`: UUIDä¸€æ„æ€§æ¤œè¨¼
    - `test_create_session_directory`: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ¤œè¨¼
    - `test_create_session_nested_directory`: è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè‡ªå‹•ä½œæˆæ¤œè¨¼
    - `test_get_session_dir`: ãƒ‘ã‚¹å–å¾—æ¤œè¨¼
  - **P0å¯¾å¿œæ¸ˆã¿**: fs2::available_spaceã‚’ç”¨ã„ãŸãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯ã¨`begin_session()`çµ±åˆAPIã‚’è¿½åŠ ï¼ˆstorage.rs L115-175, L230-268ï¼‰
  - **äº’æ›æ€§**: æ—§APIã¯å¾Œæ–¹äº’æ›ã®ãŸã‚æ®‹ç½®ï¼ˆå®¹é‡ãƒã‚§ãƒƒã‚¯å¿…é ˆåŒ–æ¸ˆã¿ï¼‰
  - _Requirements: STT-REQ-005.1ï¼ˆå®Œå…¨å®Ÿè£…ã€äº’æ›APIç¶­æŒï¼‰_

- [x] 6.2 éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **AudioWriteræ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L49-127ï¼‰
  - **WAVãƒ˜ãƒƒãƒ€ãƒ¼æ›¸ãè¾¼ã¿å®Ÿè£…å®Œäº†**ï¼ˆ16kHz, ãƒ¢ãƒãƒ©ãƒ«, 16bit PCMå½¢å¼ï¼‰
  - **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ›¸ãè¾¼ã¿å®Ÿè£…å®Œäº†**ï¼ˆ`write_samples()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
  - **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¯ãƒ­ãƒ¼ã‚ºå‡¦ç†å®Ÿè£…å®Œäº†**ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã‚µã‚¤ã‚ºæ›´æ–°ã€`close()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
  - **LocalStorageServiceçµ±åˆå®Œäº†**ï¼ˆ`create_audio_writer()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
  - **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ4ä»¶ä½œæˆãƒ»ç·‘åŒ–å®Œäº†**ï¼ˆ9ãƒ†ã‚¹ãƒˆã™ã¹ã¦åˆæ ¼ï¼‰
    - `test_create_audio_writer`: AudioWriterä½œæˆã¨ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆç¢ºèª
    - `test_audio_writer_write_samples`: 1ç§’åˆ†ã®ã‚µãƒ³ãƒ—ãƒ«æ›¸ãè¾¼ã¿ç¢ºèª
    - `test_audio_writer_multiple_writes`: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ›¸ãè¾¼ã¿ç¢ºèªï¼ˆ10å›åˆ†å‰²ï¼‰
    - `test_audio_writer_wav_header`: WAVãƒ˜ãƒƒãƒ€ãƒ¼å½¢å¼æ¤œè¨¼ï¼ˆRIFF, fmt, dataï¼‰
  - _Requirements: STT-REQ-005.2ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.3 æ–‡å­—èµ·ã“ã—çµæœä¿å­˜æ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **TranscriptionEventæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L139-149ï¼‰
    - `timestamp_ms`: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆãƒŸãƒªç§’ï¼‰
    - `text`: ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹
    - `is_final`: ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆãƒ•ãƒ©ã‚°ï¼ˆfalse = éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆï¼‰
  - **TranscriptWriteræ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆL151-187ï¼‰
    - è¿½è¨˜ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`OpenOptions::append`ï¼‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
    - JSON Lineså½¢å¼ï¼ˆ1è¡Œ1JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã§ã®æ›¸ãè¾¼ã¿
    - `append_event()`: ã‚¤ãƒ™ãƒ³ãƒˆè¿½è¨˜ãƒ¡ã‚½ãƒƒãƒ‰
    - `close()`: ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸã¨ã‚¯ãƒ­ãƒ¼ã‚º
  - **LocalStorageServiceçµ±åˆå®Œäº†**ï¼ˆ`create_transcript_writer()` ãƒ¡ã‚½ãƒƒãƒ‰ L48-55ï¼‰
  - **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ4ä»¶ä½œæˆãƒ»ç·‘åŒ–å®Œäº†**ï¼ˆ13ãƒ†ã‚¹ãƒˆã™ã¹ã¦åˆæ ¼ï¼‰
    - `test_create_transcript_writer`: TranscriptWriterä½œæˆã¨ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆç¢ºèª
    - `test_transcript_writer_append_event`: éƒ¨åˆ†/ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆè¿½è¨˜ç¢ºèª
    - `test_transcript_writer_append_mode`: è¤‡æ•°å›Writerä½œæˆã§ã®è¿½è¨˜ãƒ¢ãƒ¼ãƒ‰ç¢ºèª
    - `test_transcription_event_json_format`: JSONå¤‰æ›ãƒ»é€†å¤‰æ›ç¢ºèª
  - _Requirements: STT-REQ-005.3ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.4 ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜æ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **SessionMetadataæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L139-159ï¼‰
    - 8ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: session_id, start_time, end_time, duration_seconds, audio_device, model_size, total_segments, total_characters
  - **save_session_metadata()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL58-69ï¼‰
    - `serde_json::to_string_pretty()` ã§JSONæ•´å½¢
    - session.jsonä¸Šæ›¸ãä¿å­˜
  - **4ãƒ†ã‚¹ãƒˆå®Ÿè£…å®Œäº†**ï¼ˆL624-782ï¼‰
    - `test_save_session_metadata`: åŸºæœ¬ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿æ¤œè¨¼
    - `test_session_metadata_json_format`: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼
    - `test_save_session_metadata_overwrite`: ä¸Šæ›¸ãå‹•ä½œç¢ºèª
    - `test_session_metadata_iso8601_timestamps`: ISO 8601å½¢å¼ä¿æŒç¢ºèª
  - **å…¨17ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆTask 6.1-6.4çµ±åˆï¼‰
  - _Requirements: STT-REQ-005.4ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.5 ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§å–å¾—ã¨å†ç”Ÿæ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **LoadedSessionæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L174-181ï¼‰
    - metadata, transcripts, audio_pathã®3ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  - **list_sessions()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL71-109ï¼‰
    - recordings/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªèµ°æŸ»ã€session.jsonèª­ã¿è¾¼ã¿
    - æ—¥æ™‚é™é †ã‚½ãƒ¼ãƒˆï¼ˆstart_timeé™é †ï¼‰
  - **load_session()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL111-145ï¼‰
    - session.json + transcription.jsonl + audio.wavãƒ‘ã‚¹èª­ã¿è¾¼ã¿
    - ç©ºtranscription.jsonlå¯¾å¿œ
  - **4ãƒ†ã‚¹ãƒˆå®Ÿè£…å®Œäº†**ï¼ˆL788-943ï¼‰
    - `test_list_sessions`: 3ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆãƒ»æ—¥æ™‚é™é †ã‚½ãƒ¼ãƒˆæ¤œè¨¼
    - `test_load_session`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ»æ–‡å­—èµ·ã“ã—ãƒ»éŸ³å£°ãƒ‘ã‚¹æ¤œè¨¼
    - `test_list_sessions_empty`: ç©ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‡¦ç†ç¢ºèª
    - `test_load_session_not_found`: å­˜åœ¨ã—ãªã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼å‡¦ç†
  - **å…¨21ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆTask 6.1-6.5çµ±åˆï¼‰
  - _Requirements: STT-REQ-005.5, STT-REQ-005.6ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 6.6 ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ç›£è¦–ã¨è­¦å‘Šæ©Ÿèƒ½ï¼ˆâœ… å®Œäº†ï¼‰
  - **DiskSpaceStatus enumå®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/storage.rs L259-281ï¼‰
    - Sufficient, Warning, Critical ã®3çŠ¶æ…‹
    - Display traitå®Ÿè£…ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼‰
  - **check_disk_space()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†**ï¼ˆL147-182ï¼‰
    - sys_info::disk_info()ã§ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡å–å¾—
    - 1GBä»¥ä¸Š: Sufficient
    - 500MBä»¥ä¸Š1GBæœªæº€: Warningï¼ˆè­¦å‘Šãƒ­ã‚°å‡ºåŠ›ï¼‰
    - 500MBæœªæº€: Criticalï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ­ã‚°å‡ºåŠ›ï¼‰
  - **4ãƒ†ã‚¹ãƒˆå®Ÿè£…å®Œäº†**ï¼ˆL1025-1106ï¼‰
    - `test_check_disk_space_sufficient`: ååˆ†ãªå®¹é‡ç¢ºèª
    - `test_check_disk_space_warning`: è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œè¨¼
    - `test_check_disk_space_critical`: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œè¨¼
    - `test_create_session_with_disk_check`: ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆå‰ã®ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯
  - **å…¨25ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆTask 6.1-6.6çµ±åˆï¼‰
  - **sys-info crateã‚’ä¾å­˜é–¢ä¿‚ã«è¿½åŠ **ï¼ˆCargo.tomlï¼‰
  - _Requirements: STT-REQ-005.7, STT-REQ-005.8ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

---

### Task 6ç³» è€éšœå®³æ€§å¼·åŒ–ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆ2025-10-13å®Ÿæ–½ï¼‰

**èƒŒæ™¯**: å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸè‡´å‘½çš„ãªæ‡¸å¿µ3ç‚¹ã‚’ä¿®æ­£

#### ä¿®æ­£1: AudioWriter Dropå®Ÿè£…ï¼ˆL270-277ï¼‰
- **å•é¡Œ**: close()æœªå‘¼ã³å‡ºã—æ™‚ã€WAVãƒ˜ãƒƒãƒ€ãƒ¼ã‚µã‚¤ã‚ºãŒ0ã®ç ´æãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
- **å¯¾å¿œ**: Drop traitå®Ÿè£…ã€finalize()å†…éƒ¨ãƒ¡ã‚½ãƒƒãƒ‰åŒ–
- **åŠ¹æœ**: ãƒ‘ãƒ‹ãƒƒã‚¯ãƒ»ä¾‹å¤–æ™‚ã‚‚è‡ªå‹•ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°ã€STT-REQ-005.2å®Œå…¨æº–æ‹ 
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_audio_writer_drop_without_close`ï¼ˆL583-627ï¼‰

#### ä¿®æ­£2: TranscriptWriter Drop + sync_all()å¼·åŒ–ï¼ˆL396-403ï¼‰
- **å•é¡Œ1**: flush()ã®ã¿ã§ãƒ‡ã‚£ã‚¹ã‚¯æ°¸ç¶šåŒ–æœªä¿è¨¼ï¼ˆã‚«ãƒ¼ãƒãƒ«ãƒãƒƒãƒ•ã‚¡æ­¢ã¾ã‚Šï¼‰
- **å•é¡Œ2**: close()æœªå‘¼ã³å‡ºã—æ™‚ã€ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã§ãƒ‡ãƒ¼ã‚¿æ¬ æ
- **å¯¾å¿œ1**: append_event()å†…ã§flush() + sync_all()å®Ÿè¡Œï¼ˆL365-382ï¼‰
- **å¯¾å¿œ2**: Drop traitå®Ÿè£…ã€finalize()å†…éƒ¨ãƒ¡ã‚½ãƒƒãƒ‰åŒ–
- **åŠ¹æœ**: ã‚¯ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®ãƒ‡ãƒ¼ã‚¿æ¬ ææœ€å°åŒ–ã€STT-REQ-005.3å®Œå…¨æº–æ‹ 
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_transcript_writer_drop_without_close`ï¼ˆL826-868ï¼‰

#### ä¿®æ­£3: begin_session()åŸå­çš„APIè¿½åŠ ï¼ˆL46-76ï¼‰
- **å•é¡Œ**: create_session()â†’create_audio_writer()ã®å‘¼ã³é †ä¾å­˜ã€è²¬å‹™åˆ†æ–­
- **å¯¾å¿œ**: SessionHandleï¼ˆRAIIï¼‰å°å…¥ï¼ˆL15-39ï¼‰
  - IDç”Ÿæˆ â†’ ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯ â†’ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆã‚’åŸå­çš„å®Ÿè¡Œ
  - Criticalæ™‚ã¯éŒ²éŸ³é–‹å§‹æ‹’å¦ã€Warningæ™‚ã¯è­¦å‘Šè¡¨ç¤º
  - SessionHandleçµŒç”±ã§ã®ã¿ãƒ©ã‚¤ã‚¿ãƒ¼å–å¾—å¯èƒ½
- **åŠ¹æœ**: å‘¼ã³å‡ºã—é †ãƒŸã‚¹é˜²æ­¢ã€STT-REQ-005.1å®Œå…¨æº–æ‹ 
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **:
  - `test_begin_session`ï¼ˆL1308-1332ï¼‰
  - `test_begin_session_with_writers`ï¼ˆL1334-1378ï¼‰

#### æœ€çµ‚çµæœ
- **å…¨29ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆä¿®æ­£å‰25 + æ–°è¦4ï¼‰
- **ã‚³ãƒ¼ãƒ‰è¡Œæ•°**: storage.rs 1,397è¡Œï¼ˆä¿®æ­£å‰1,106è¡Œã‹ã‚‰+291è¡Œï¼‰
- **è€éšœå®³æ€§**: ç•°å¸¸çµ‚äº†æ™‚ã®ãƒ‡ãƒ¼ã‚¿ä¿è­·ã‚’å®Œå…¨ä¿è¨¼

---

### Task 6ç³» UIé€šçŸ¥çµ±åˆï¼ˆP0å¯¾å¿œã€2025-10-13å®Ÿæ–½ï¼‰

**èƒŒæ™¯**: å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸWarningæ™‚ã®UIé€šçŸ¥æ¬ è½ã‚’ä¿®æ­£

#### ä¿®æ­£å†…å®¹: SessionHandleã¸ã®disk_statusãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆL19-59ï¼‰
- **å•é¡Œ**: Warningæ™‚ã« eprintln!ã®ã¿ã§UIé€šçŸ¥æœªå®Ÿè£…ï¼ˆSTT-REQ-005.7æœªé”ï¼‰
- **å¯¾å¿œ**:
  - SessionHandleã«`disk_status: DiskSpaceStatus`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆL24ï¼‰
  - `needs_disk_warning() -> bool`ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ï¼ˆL44-48ï¼‰
  - `disk_warning_message() -> Option<String>`ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ï¼ˆL50-58ï¼‰
- **åŠ¹æœ**: å‘¼ã³å‡ºã—å´ã§UIé€šçŸ¥ã‚’åˆ¶å¾¡å¯èƒ½
  ```rust
  let handle = storage.begin_session()?;
  if handle.needs_disk_warning() {
      // UIé€šçŸ¥: handle.disk_warning_message()
  }
  ```
- **ãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_session_handle_disk_warning`ï¼ˆL1365-1387ï¼‰
- **è¦ä»¶å……è¶³**: STT-REQ-005.7å®Œå…¨æº–æ‹ 

#### æœ€çµ‚çµæœ
- **å…¨30ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆP0å¯¾å¿œå¾Œï¼‰
- **UIé€šçŸ¥**: å‘¼ã³å‡ºã—å´ã§åˆ¶å¾¡å¯èƒ½ï¼ˆTauri Event APIçµ±åˆæº–å‚™å®Œäº†ï¼‰
- **æ®‹èª²é¡Œï¼ˆP1ï¼‰**: æ—§APIï¼ˆcreate_sessionï¼‰éå…¬é–‹åŒ–ã€testç’°å¢ƒä¾å­˜æ€§

---

### Task 6ç³» è‡´å‘½çš„æ¬ é™¥ä¿®æ­£ï¼ˆP0å¯¾å¿œã€2025-10-13å®Ÿæ–½ï¼‰

**èƒŒæ™¯**: å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸ2ã¤ã®è‡´å‘½çš„æ¬ é™¥ã‚’ä¿®æ­£

#### ä¿®æ­£1: fs2 crateã§app_data_dirå®¹é‡å–å¾—ï¼ˆL230-268ï¼‰
- **å•é¡Œ**: sys_info::disk_info()ã¯ãƒ«ãƒ¼ãƒˆFSã®ã‚°ãƒ­ãƒ¼ãƒãƒ«å€¤ã®ã¿å–å¾—
  - app_data_dirãŒå¤–ä»˜ã‘HDDã‚„åˆ¥ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ä¸Šã®å ´åˆã€èª¤åˆ¤å®š
  - ä¾‹: ãƒ«ãƒ¼ãƒˆFS 10GBç©ºãï¼ˆSufficientï¼‰ã€å¤–ä»˜ã‘HDD 400MBç©ºãï¼ˆCriticalï¼‰â†’ èª¤ã£ã¦Sufficientã‚’è¿”ã™
- **å¯¾å¿œ**: fs2::available_space()ã§app_data_dirã®FSå®¹é‡ã‚’æ­£ç¢ºå–å¾—
  ```rust
  use fs2::available_space;
  let free_bytes = available_space(&self.app_data_dir)?;
  ```
- **åŠ¹æœ**: å¤–ä»˜ã‘HDDã€åˆ¥ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‰ãƒ©ã‚¤ãƒ–ã§ã‚‚æ­£ç¢ºãªå®¹é‡åˆ¤å®š
- **ä¾å­˜é–¢ä¿‚è¿½åŠ **: fs2 v0.4.3ï¼ˆCargo.tomlï¼‰
- **è¦ä»¶å……è¶³**: STT-REQ-005.7/005.8å®Œå…¨æº–æ‹ 

#### ä¿®æ­£2: æ—§APIçµŒè·¯ã®ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯è¿½åŠ 
- **å•é¡Œ**: create_session/create_audio_writer/create_transcript_writerãŒå…¬é–‹APIã§ã€ç›´æ¥å‘¼ã³å‡ºã™ã¨ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯ã‚’ãƒã‚¤ãƒ‘ã‚¹å¯èƒ½
  ```rust
  // å±é™ºãªå‘¼ã³å‡ºã—ä¾‹
  storage.create_session(&session_id)?;  // âŒ å®¹é‡ãƒã‚§ãƒƒã‚¯ãªã—
  storage.create_audio_writer(&session_id)?;  // âŒ å®¹é‡ãƒã‚§ãƒƒã‚¯ãªã—
  ```
- **å¯¾å¿œ**: å„æ—§APIã«å®¹é‡ãƒã‚§ãƒƒã‚¯è¿½åŠ ï¼ˆL115-175ï¼‰
  - `create_session()`: L116-123ã§Criticalæ™‚æ‹’å¦
  - `create_audio_writer()`: L142-149ã§Criticalæ™‚æ‹’å¦
  - `create_transcript_writer()`: L163-170ã§Criticalæ™‚æ‹’å¦
- **åŠ¹æœ**: ã©ã®APIçµŒè·¯ã§ã‚‚ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ä¸è¶³ã‚’æ¤œå‡ºãƒ»æ‹’å¦
- **è¦ä»¶å……è¶³**: STT-REQ-005.8å®Œå…¨æº–æ‹ 

#### æœ€çµ‚çµæœ
- **å…¨41ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆP0å¯¾å¿œå®Œäº†ï¼‰
- **è‡´å‘½çš„æ¬ é™¥**: å…¨è§£æ¶ˆ
- **è¦ä»¶å……è¶³**: STT-REQ-005.1ã€œ005.8å®Œå…¨æº–æ‹ 
- **ä¾å­˜é–¢ä¿‚**: fs2 v0.4.3è¿½åŠ ã€sys-infoå‰Šé™¤å¯èƒ½
- **æ®‹èª²é¡Œï¼ˆP1ï¼‰**: æ—§APIéå…¬é–‹åŒ–ï¼ˆå¾Œæ–¹äº’æ›æ€§ç¶­æŒã®ãŸã‚ä¿ç•™ï¼‰

- [x] 7. IPCé€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«æ‹¡å¼µã¨å¾Œæ–¹äº’æ›æ€§ï¼ˆRust/Pythonä¸¡å´ï¼‰
  - **Task 4.3ã‹ã‚‰ã®å¼•ç¶™ã**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡æ©Ÿèƒ½ã®å®Ÿè£…
  - **èƒŒæ™¯**: Task 4.3ã§ã¯MVP0äº’æ›æ€§å„ªå…ˆã§Request-Responseå‹ï¼ˆ1ãƒªã‚¯ã‚¨ã‚¹ãƒˆâ†’1æœ€çµ‚å¿œç­”ï¼‰ã‚’ç¶­æŒ
  - **æœ¬ã‚¿ã‚¹ã‚¯ã®ç›®æ¨™**: ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ å‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¿½åŠ ï¼ˆ1ãƒªã‚¯ã‚¨ã‚¹ãƒˆâ†’è¤‡æ•°ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡ï¼‰
  - **å®Ÿè£…æ–¹é‡**: æ–°ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ `process_audio_stream` ã¾ãŸã¯æ—¢å­˜ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ‹¡å¼µã‚’æ¤œè¨
- [x] 7.1 IPCãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‹¡å¼µã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼ˆâœ… å®Œäº†ã€Task 7.1.5ã§P0ä¿®æ­£å®Œäº†ï¼‰
  - **æ–°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ**: `ipc_protocol.rs`ï¼ˆsrc-tauri/src/ipc_protocol.rsï¼‰
  - **TranscriptionResultæ§‹é€ ä½“å®Ÿè£…å®Œäº†**ï¼ˆL10-38ï¼‰
    - æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: text, is_final
    - æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆOptionalï¼‰: confidence, language, processing_time_ms, model_size
    - `#[serde(default, skip_serializing_if = "Option::is_none")]`ã§å¾Œæ–¹äº’æ›æ€§ç¢ºä¿
  - **IpcMessage enumå®Ÿè£…å®Œäº†**ï¼ˆL42-78ï¼‰
    - Request, Response, Error ã®3ãƒãƒªã‚¢ãƒ³ãƒˆ
    - å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«`version`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¿…é ˆåŒ–ï¼ˆSTT-REQ-007.4ï¼‰
    - **P0ä¿®æ­£å®Œäº†**: `#[serde(default = "default_version")]`ã§æ—§å½¢å¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¯¾å¿œï¼ˆADR-003æº–æ‹ ï¼‰
    - ã‚¨ãƒ©ãƒ¼å¿œç­”å½¢å¼çµ±ä¸€ï¼ˆerrorCode, errorMessage, recoverableï¼‰
  - **ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…**ï¼ˆL80-97ï¼‰
    - `version()`: ãƒãƒ¼ã‚¸ãƒ§ãƒ³å–å¾—
    - `id()`: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸IDå–å¾—
  - **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ11ä»¶å®Ÿè£…ãƒ»å…¨åˆæ ¼**ï¼ˆL99-333ï¼‰
    - `test_transcription_result_with_all_fields`: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼
    - `test_transcription_result_backward_compatibility`: æ—§å½¢å¼äº’æ›æ€§
    - `test_ipc_message_response_with_version`: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼
    - `test_ipc_message_error_format`: ã‚¨ãƒ©ãƒ¼å½¢å¼æ¤œè¨¼ï¼ˆSTT-REQ-007.5ï¼‰
    - `test_ipc_message_version_accessor`: ã‚¢ã‚¯ã‚»ã‚µãƒ¡ã‚½ãƒƒãƒ‰æ¤œè¨¼
    - `test_transcription_result_skip_none_fields`: Noneçœç•¥æ¤œè¨¼
    - `test_ipc_message_roundtrip`: ãƒ©ã‚¦ãƒ³ãƒ‰ãƒˆãƒªãƒƒãƒ—æ¤œè¨¼
    - `test_forward_compatibility_ignore_unknown_fields`: æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–
    - `test_version_constant`: ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³å®šæ•°æ¤œè¨¼
    - `test_confidence_range`: ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ç¯„å›²æ¤œè¨¼
    - **P0å¯¾å¿œãƒ†ã‚¹ãƒˆè¿½åŠ **: `test_version_field_omitted_defaults_to_1_0`ï¼ˆL317-331ã€ADR-003æ¤œè¨¼ï¼‰
  - **å¾Œæ–¹äº’æ›æ€§**: `#[serde(default = "default_version")]`ã§æ—§å½¢å¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆADR-003æº–æ‹ ï¼‰
  - **å‰æ–¹äº’æ›æ€§**: serdeã®`#[serde(deny_unknown_fields)]`æœªä½¿ç”¨ã§æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–
  - **Task 7.1.5çµ±åˆå®Œäº†**: æ—¢å­˜IPCé€šä¿¡ã¸ã®æ–°ãƒ—ãƒ­ãƒˆã‚³ãƒ«çµ±åˆï¼ˆè©³ç´°ã¯ä¸‹è¨˜ï¼‰
  - **å…¨11ãƒ†ã‚¹ãƒˆåˆæ ¼**
  - _Requirements: STT-REQ-007.1, STT-REQ-007.2, STT-REQ-007.4, STT-REQ-007.5, ADR-003ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 7.1.5 æ—¢å­˜IPCé€šä¿¡ã¸ã®æ–°ãƒ—ãƒ­ãƒˆã‚³ãƒ«çµ±åˆï¼ˆâœ… å®Œäº† 2025-10-14ï¼‰
  - **Rustå´**: `src-tauri/src/commands.rs` ã§ `ProtocolMessage::Request` + `process_audio_stream` ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ–ã—ã€`ProtocolMessage` çµŒç”±ã§å…¨å¿œç­”ã‚’å¾©å·ï¼ˆL152-270ï¼‰ã€‚æ—§å½¢å¼ã¯Legacyäº’æ›ã¨ã—ã¦è­¦å‘Šä»˜ãã§ç¶­æŒã€‚
  - **Pythonå´**: `python-stt/main.py` ãŒ `type: "request"` / `method` ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã‚’å®Ÿè£…ï¼ˆL70-140ï¼‰ã—ã€LegacyIpcMessage å¤‰æ›ã¨ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’åŒå±…ã•ã›ã‚‹ã“ã¨ã§å‰å¾Œæ–¹äº’æ›ã‚’ç¢ºä¿ã€‚
  - **Chrome/WebSocketé€£æº**: `commands.rs` â†’ `websocket.rs` çµŒç”±ã§ `isPartial` / `confidence` / `language` / `processingTimeMs` ã‚’é…ä¿¡ã—ã€æ‹¡å¼µãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ¨™æº–åŒ–ã€‚
  - **ãƒ†ã‚¹ãƒˆ**: `tests/ipc_migration_test.rs` ã®9ã‚±ãƒ¼ã‚¹ã«åŠ ãˆã€Rust/Pythonçµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ`stt_e2e_test.rs`, `test_audio_integration.py`ï¼‰ã§æ–°æ—§ãƒ—ãƒ­ãƒˆã‚³ãƒ«å…±å­˜ã¨ã‚¤ãƒ™ãƒ³ãƒˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’æ¤œè¨¼æ¸ˆã¿ã€‚
  - **ç§»è¡Œæˆ¦ç•¥**: LegacyIpcMessageã‚’éæ¨å¥¨åŒ–ã—ã¤ã¤ç¨¼åƒä¸­ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä¿è­·ã€‚å°†æ¥ã®é™¤å´ã¯ Task 11.xï¼ˆãƒ†ãƒ¬ãƒ¡ãƒˆãƒªå®Œäº†å¾Œï¼‰ã§è¿½è·¡ã€‚
  - _Requirements: STT-REQ-007.1, STT-REQ-007.2, STT-REQ-007.4, STT-REQ-007.5, ADR-003ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_
- [x] 7.1.6 ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ å‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¿½åŠ ï¼ˆâœ… å®Œäº†ã€P0ä¿®æ­£å®Œäº† 2025-10-13å®Ÿæ–½ï¼‰
  - **Pythonå´å®Ÿè£…å®Œäº†**ï¼ˆmain.py L261-406ï¼‰
    - `_handle_process_audio_stream()` ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…ï¼ˆL262-406ï¼‰
    - ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—: `speech_start`, `partial_text`, `final_text`, `speech_end`, `error`
    - **P0ä¿®æ­£1**: JSONå½¢å¼ã‚’Rust schemaå®Œå…¨æº–æ‹ ï¼ˆ`eventType`/`data`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä½¿ç”¨ï¼‰
    - **P0ä¿®æ­£2**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹å®Ÿè£…ï¼ˆL303: `asyncio.sleep(0.01)`ã§10msãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼‰
      - å•é¡Œ: ãƒ•ãƒ¬ãƒ¼ãƒ ä¸€æ°—å‡¦ç†ã§time.time()å¤‰åŒ–ã›ãšã€`_should_generate_partial()`ãŒå¸¸ã«False
      - å¯¾å¿œ: å„ãƒ•ãƒ¬ãƒ¼ãƒ å‡¦ç†å¾Œã«10mså¾…æ©Ÿã§å£æ™‚è¨ˆæ™‚åˆ»ã‚’é€²è¡Œã•ã›ã€1ç§’é–“éš”partial_textç™ºç«ã‚’å®Ÿç¾
    - **P0ä¿®æ­£3**: ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡å®Ÿè£…ï¼ˆL387-402: `event_type == 'error'`ã‚±ãƒ¼ã‚¹è¿½åŠ ï¼‰
      - å•é¡Œ1: AudioPipelineã‚¨ãƒ©ãƒ¼æ™‚ã€Pythonå´ãŒä½•ã‚‚é€ä¿¡ã›ãšRustå´ãŒ`receive_message()`ã§ãƒãƒ³ã‚°
      - å¯¾å¿œ1: `type: 'error'`ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã§Rustå´ãƒ«ãƒ¼ãƒ—ã‚’ç¢ºå®Ÿã«çµ‚äº†
      - å•é¡Œ2: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«`id`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãªãã€IpcMessage::Errorãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå¤±æ•—
      - å¯¾å¿œ2: L395ã§`'id': msg_id`è¿½åŠ ï¼ˆipc_protocol.rs L104å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æº–æ‹ ï¼‰
    - **P1ä¿®æ­£**: `speech_end`ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡å®Ÿè£…ï¼ˆAudioPipelineãŒè¿”ã•ãªã„ãŸã‚æ‰‹å‹•é€ä¿¡ï¼‰
  - **Rustå´å®Ÿè£…å®Œäº†**ï¼ˆcommands.rs L152-270ï¼‰
    - ãƒ¡ã‚½ãƒƒãƒ‰åå¤‰æ›´: `process_audio` â†’ `process_audio_stream`ï¼ˆL163ï¼‰
    - ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡ãƒ«ãƒ¼ãƒ—å®Ÿè£…ï¼ˆL188-270ï¼‰
    - ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—åˆ¥å‡¦ç†: speech_start, partial_text, final_text, speech_end
    - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: `ProtocolMessage::Error`ã§ãƒ«ãƒ¼ãƒ—çµ‚äº†ï¼ˆL252-254ï¼‰
    - `final_text`ã§WebSocketé…ä¿¡ã€`speech_end`ã§ãƒ«ãƒ¼ãƒ—çµ‚äº†
  - **çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…**ï¼ˆpython-stt/tests/test_audio_integration.py L786-1028ï¼‰
    - `test_process_audio_stream_sends_multiple_events`: ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡æ¤œè¨¼
    - `test_process_audio_still_works_for_backward_compatibility`: å¾Œæ–¹äº’æ›æ€§æ¤œè¨¼
    - `test_process_audio_stream_handles_error_events`: ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡æ¤œè¨¼ï¼ˆP0ä¿®æ­£æ¤œè¨¼ï¼‰
      - L1024: `id`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼è¿½åŠ ï¼ˆIpcMessage::Errorå¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
    - **å…¨3ãƒ†ã‚¹ãƒˆåˆæ ¼**
  - **å¾Œæ–¹äº’æ›æ€§ç¶­æŒ**: æ—¢å­˜ `process_audio` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå¤‰æ›´ãªã—
  - **STT-REQ-003.7/003.8å¯¾å¿œ**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡å®Œå…¨å®Ÿè£…ï¼ˆP0ä¿®æ­£ã«ã‚ˆã‚Šå®Ÿç¾ï¼‰
  - **ãƒ“ãƒ«ãƒ‰æ¤œè¨¼**: `cargo build`æˆåŠŸï¼ˆdeprecation warning 9ä»¶ã¯æ—¢å­˜Legacy IPCç”±æ¥ï¼‰
  - _Requirements: STT-REQ-003.7, STT-REQ-003.8, STT-REQ-007.1ï¼ˆP0ä¿®æ­£å®Œäº†ã€å®Œå…¨å®Ÿè£…ï¼‰_

- [x] 7.2 å¾Œæ–¹äº’æ›æ€§ãƒ†ã‚¹ãƒˆã¨ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼ˆâœ… å®Œäº†ã€P0ä¿®æ­£å®Œäº† 2025-10-13å®Ÿæ–½ï¼‰
  - **âš ï¸ P0æ¬ é™¥ç™ºè¦‹ã¨ä¿®æ­£**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´å‡¦ç†ãŒæœªå®Ÿè£…ã ã£ãŸå•é¡Œã‚’ä¿®æ­£
    - **å•é¡Œ**: ãƒ†ã‚¹ãƒˆãŒãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã‚’æ¤œè¨¼ã›ãšã€ã‚³ãƒ¡ãƒ³ãƒˆã§æœŸå¾…ã‚’è¿°ã¹ã‚‹ã ã‘
    - **å½±éŸ¿**: version 2.xã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚ç„¡æ¡ä»¶ã«å‡¦ç†ã•ã‚Œã€STT-REQ-007.6æœªé”æˆ
  - **ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…**ï¼ˆipc_protocol.rs L45-107, L127-169ï¼‰
    - `VersionCompatibility` enumè¿½åŠ : Compatible, MinorMismatch, MajorMismatch, Malformed
    - `check_version_compatibility()` é–¢æ•°å®Ÿè£…: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°è§£æ
    - `IpcMessage::check_version_compatibility()` ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
  - **commands.rsã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯å®Ÿè£…**ï¼ˆcommands.rs L200-228ï¼‰
    - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡æ™‚ã«`msg.check_version_compatibility()`å‘¼ã³å‡ºã—
    - `MajorMismatch`: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° + é€šä¿¡æ‹’å¦ï¼ˆãƒ«ãƒ¼ãƒ—è„±å‡ºï¼‰
    - `MinorMismatch`: è­¦å‘Šãƒ­ã‚° + å¾Œæ–¹äº’æ›ãƒ¢ãƒ¼ãƒ‰ã§å‡¦ç†ç¶™ç¶š
    - `Malformed`: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° + é€šä¿¡æ‹’å¦ï¼ˆãƒ«ãƒ¼ãƒ—è„±å‡ºï¼‰
  - **ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å˜ä½“ãƒ†ã‚¹ãƒˆ**ï¼ˆtests/ipc_migration_test.rs L629-728ï¼‰
    - `test_version_check_major_mismatch`: ãƒ¡ã‚¸ãƒ£ãƒ¼ä¸ä¸€è‡´æ¤œå‡ºï¼ˆ2.0 vs 1.0ï¼‰
    - `test_version_check_minor_mismatch`: ãƒã‚¤ãƒŠãƒ¼ä¸ä¸€è‡´æ¤œå‡ºï¼ˆ1.1 vs 1.0ï¼‰
    - `test_version_check_patch_compatible`: ãƒ‘ãƒƒãƒå·®ç•°è¨±å®¹ï¼ˆ1.0.2 vs 1.0.1ï¼‰
    - `test_version_check_malformed`: ä¸æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œå‡ºï¼ˆ"invalid", "1.x", ""ï¼‰
    - `test_ipc_message_version_check_integration`: IpcMessageçµ±åˆãƒ†ã‚¹ãƒˆ
  - **meeting-minutes-coreäº’æ›æ€§ãƒ†ã‚¹ãƒˆå®Ÿè£…**ï¼ˆtests/ipc_migration_test.rs L730-850ï¼‰
    - `test_fake_implementation_compatibility`: MVP0ï¼ˆFakeï¼‰ãŒæ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç„¡è¦–ï¼ˆSTT-REQ-007.3ï¼‰
    - `test_mvp0_minimal_response_accepted_by_mvp1`: MVP0æœ€å°å¿œç­”ã‚’MVP1ãŒå—å®¹ï¼ˆSTT-REQ-007.3ï¼‰
    - `test_legacy_and_new_protocol_coexistence`: Legacyã¨Newå½¢å¼ã®å…±å­˜æ¤œè¨¼ï¼ˆSTT-REQ-007.1ï¼‰
  - **æ—¢å­˜ãƒ†ã‚¹ãƒˆæ¤œè¨¼**ï¼ˆtests/ipc_migration_test.rsï¼‰
    - `test_forward_compatibility_unknown_fields`: æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–å‹•ä½œï¼ˆæ—¢å­˜ï¼‰
    - `test_version_field_omitted_backward_compat`: versionãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çœç•¥æ™‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆæ—¢å­˜ï¼‰
    - `test_new_format_error_response`: ã‚¨ãƒ©ãƒ¼å¿œç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆSTT-REQ-007.5ã€æ—¢å­˜ï¼‰
  - **å…¨26ãƒ†ã‚¹ãƒˆåˆæ ¼**ï¼ˆ18 â†’ 25 â†’ 26ã«å¢—åŠ ã€P0ä¿®æ­£ã§å®Ÿè£…æ¤œè¨¼ãƒ†ã‚¹ãƒˆè¿½åŠ ï¼‰
  - **ã‚¨ãƒ©ãƒ¼å¿œç­”ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: æ—¢ã«Task 7.1ã§å®Ÿè£…æ¸ˆã¿ï¼ˆIpcMessage::Errorï¼‰
  - _Requirements: STT-REQ-007.3, STT-REQ-007.5, STT-REQ-007.6ï¼ˆP0ä¿®æ­£å®Œäº†ã€å®Œå…¨å®Ÿè£…ï¼‰_

- [x] 7.3 IPCãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯æ ¹æœ¬è§£æ±ºï¼ˆADR-013: Sidecar Full-Duplex IPC Final Designï¼‰
  - **Priority**: ğŸ”´ P0 Critical
  - **Actual Time**: 1æ—¥ï¼ˆ2025-10-14å®Œäº†ï¼‰
  - **Related ADR**:
    - âŒ ADR-008 (Rejected - æ§‹é€ çš„ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯æ¬ é™¥)
    - âŒ ADR-009 (Rejected - Mutexå…±æœ‰å•é¡Œ + blocking_sendå•é¡Œ)
    - âš ï¸ ADR-011 (Superseded by ADR-013 - IPC Stdin/Stdout Mutex Separation)
    - âš ï¸ ADR-012 (Superseded by ADR-013 - Audio Callback Backpressure Redesign)
    - âœ… **ADR-013 (Approved - Final Designçµ±åˆãƒ»æ˜ç¢ºåŒ–)**
  - **Background**: ADR-009ã®ç¬¬3å›æŠ€è¡“æ¤œè¨¼ã§2ã¤ã®æ§‹é€ çš„æ¬ é™¥ã‚’ç™ºè¦‹
    - **P0 Mutexå…±æœ‰ã«ã‚ˆã‚‹ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³**: `Arc<Mutex<PythonSidecarManager>>`å…±æœ‰ã«ã‚ˆã‚Šã€Sender/Receiverä¸¦è¡Œå®Ÿè¡ŒãŒå®Ÿè³ªã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã•ã‚Œã€ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ãŒè§£æ¶ˆã•ã‚Œãªã„
    - **P0 blocking_send()ã«ã‚ˆã‚‹CPALã‚¹ãƒˆãƒªãƒ¼ãƒ åœæ­¢**: Pythonç•°å¸¸æ™‚ã«ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒæœ€å¤§2ç§’ãƒ–ãƒ­ãƒƒã‚¯ â†’ CPALã®OSãƒãƒƒãƒ•ã‚¡ï¼ˆ128msï¼‰ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒ³ â†’ ã‚¹ãƒˆãƒªãƒ¼ãƒ åœæ­¢
  - **Solution**: ADR-013ã«ã‚ˆã‚‹çµ±åˆè¨­è¨ˆã§æ ¹æœ¬è§£æ±º
    - **AudioSink/EventStream Facade API**: Mutexå®Œå…¨éš è”½ã€ãƒãƒ£ãƒãƒ«ã®ã¿å…¬é–‹
    - **Line-Delimited JSON Framing**: read_exact() deadlockå›é¿ã€ãƒ‡ãƒãƒƒã‚°å®¹æ˜“æ€§
    - **5s Ring Buffer + Immediate Stop**: Pythonç•°å¸¸æ™‚å³åº§åœæ­¢ã€UXæ˜ç¢ºåŒ–
    - **Phase 1-4å®Ÿè£…å®Œäº†**: 1365è¡Œã€19ãƒ†ã‚¹ãƒˆã€100%åˆæ ¼
  - **P0 Bugs Fixed**: 4ä»¶ï¼ˆChild handle retentionã€Ring buffer overflow detectionã€Partial write preventionã€VAD AttributeErrorï¼‰

- [x] 7.3.1 ADR-013è¨­è¨ˆã¨Design.mdæ›´æ–°ï¼ˆâœ… å®Œäº† 2025-10-14ï¼‰
  - ADR-009ã‚’RejectedåŒ–ï¼ˆ2ã¤ã®æ§‹é€ çš„æ¬ é™¥ï¼‰
  - ADR-011ä½œæˆ â†’ ADR-013ã§çµ±åˆãƒ»æ˜ç¢ºåŒ–
  - ADR-012ä½œæˆ â†’ ADR-013ã§çµ±åˆãƒ»æ˜ç¢ºåŒ–
  - ADR-013ä½œæˆ: Sidecar Full-Duplex IPC Final Design
  - Design.md Section 7.9å…¨é¢æ›´æ–°: ADR-013æº–æ‹ 
  - spec.jsonæ›´æ–°: phase=implementation, BLOCK-004è¿½åŠ ãƒ»å®Œäº†
  - _Actual: 3æ™‚é–“_
  - _Requirements: STT-REQ-007.7_

**Note**: ä»¥ä¸‹ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ï¼ˆ7.3.2ã€œ7.3.9ï¼‰ã¯ADR-011/012ãƒ™ãƒ¼ã‚¹ã§è¨˜è¿°ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€**ADR-013å®Ÿè£…ï¼ˆPhase 1-4ï¼‰ã«ã‚ˆã‚Šçµ±åˆå®Œäº†**ã—ã¦ã„ã¾ã™ã€‚

- [x] 7.3.2ã€œ7.3.9 ADR-013 Phase 1-4å®Ÿè£…å®Œäº†ï¼ˆâœ… 2025-10-14ï¼‰
  - **Phase 1: Sidecar Facade APIå®Ÿè£…å®Œäº†**ï¼ˆsrc-tauri/src/sidecar.rsã€535è¡Œã€4/4ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
    - AudioSink/EventStreamæ§‹é€ ä½“å®Ÿè£…
    - Mutexå®Œå…¨éš è”½ã€ãƒãƒ£ãƒãƒ«ã®ã¿å…¬é–‹
    - stdin/stdoutã®å˜ç‹¬æ‰€æœ‰ï¼ˆADR-011è¦ä»¶é”æˆï¼‰
  - **Phase 2: Ring Bufferçµ±åˆå®Œäº†**ï¼ˆsrc-tauri/src/ring_buffer.rsã€340è¡Œã€11/11ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
    - SPSC Lock-Free Ring Bufferå®Ÿè£…ï¼ˆ5ç§’ãƒãƒƒãƒ•ã‚¡ï¼‰
    - try_send() backpressureå®Ÿè£…ï¼ˆADR-012è¦ä»¶é”æˆï¼‰
    - Partial write preventionï¼ˆP0-3ä¿®æ­£ï¼‰
  - **Phase 3: Python Execution Model**ï¼ˆæ—¢å­˜python-stt/main.pyãŒADR-013è¦ä»¶ã‚’æº€ãŸã™ï¼‰
    - Line-Delimited JSONå¯¾å¿œ
    - VADçŠ¶æ…‹ãƒ™ãƒ¼ã‚¹no_speechåˆ¤å®šï¼ˆP0-4ä¿®æ­£ã€7.3.6ç›¸å½“ï¼‰
  - **Phase 4: E2E Testså®Ÿè£…å®Œäº†**ï¼ˆtests/sidecar_full_duplex_e2e.rsã€490è¡Œã€4/4ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
    - 500ãƒ•ãƒ¬ãƒ¼ãƒ ä¸¦è¡Œå‡¦ç†ã§Deadlock 0%æ¤œè¨¼ï¼ˆ7.3.8ç›¸å½“ï¼‰
    - 6000ãƒ•ãƒ¬ãƒ¼ãƒ é€ä¿¡ã§Frame loss 0%æ¤œè¨¼ï¼ˆ7.3.8ç›¸å½“ï¼‰
    - Pythonç•°å¸¸æ¤œå‡º ~6sæ¤œè¨¼ï¼ˆ5ç§’ãƒãƒƒãƒ•ã‚¡æº€æ¯æ¤œè¨¼ã€7.3.4ç›¸å½“ï¼‰
  - **Success Criteriaé”æˆ**:
    - âœ… Deadlockç™ºç”Ÿç‡ = 0%ï¼ˆADR-011ï¼‰
    - âœ… Frame lossç‡ = 0%ï¼ˆADR-012ï¼‰
    - âœ… Audio callback latency < 10Î¼sï¼ˆADR-012ï¼‰
    - âœ… Pythonç•°å¸¸æ¤œå‡º ~6sï¼ˆ5ç§’ãƒãƒƒãƒ•ã‚¡æº€æ¯æ¤œè¨¼ï¼‰
    - âœ… æ—¢å­˜ãƒ†ã‚¹ãƒˆå…¨åˆæ ¼ï¼ˆRust 71 + Python 143ï¼‰
  - **P0 Bugs Fixed**: 4ä»¶ï¼ˆChild handle retentionã€Ring buffer overflowã€Partial write preventionã€VAD AttributeErrorï¼‰
  - **Total**: 1365è¡Œã€19ãƒ†ã‚¹ãƒˆã€100%åˆæ ¼ã€å®Ÿè£…æ—¥æ•°1æ—¥
  - _Requirements: STT-REQ-007.7ï¼ˆå®Œå…¨é”æˆï¼‰_

**æ—§ã‚µãƒ–ã‚¿ã‚¹ã‚¯è©³ç´°**ï¼ˆADR-013å®Ÿè£…ã§çµ±åˆå®Œäº†ã®ãŸã‚å‚ç…§ç”¨ï¼‰:
- 7.3.2: PythonSidecarManageræ§‹é€ ä½“å¤‰æ›´ â†’ Phase 1 Sidecar Facade APIã§å®Ÿç¾
- 7.3.3: Sender/Receiverä¸¦è¡Œã‚¿ã‚¹ã‚¯ â†’ Phase 1ã§å®Ÿç¾
- 7.3.4: Audio Callback try_send() Backpressure â†’ Phase 2 Ring Bufferã§å®Ÿç¾
- 7.3.5: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° â†’ æœªå®Ÿè£…ï¼ˆTask 9ã§å¯¾å¿œäºˆå®šï¼‰
- 7.3.6: Python VADçŠ¶æ…‹ãƒ™ãƒ¼ã‚¹no_speechåˆ¤å®š â†’ P0-4ä¿®æ­£ã§å®Ÿç¾
- 7.3.7: Error Handling & Graceful Shutdown â†’ Phase 1ã§å®Ÿç¾
- 7.3.8: E2Eãƒ†ã‚¹ãƒˆã¨æ¤œè¨¼ â†’ Phase 4ã§å®Ÿç¾
- 7.3.9: Metrics and Rollback Strategy â†’ Phase 4ã§ä¸€éƒ¨å®Ÿç¾ï¼ˆæ®‹èª²é¡Œã‚ã‚Šï¼‰

- [x] 8. WebSocketãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‹¡å¼µï¼ˆRustå´ï¼‰
- [x] 8.1 WebSocketãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‹¡å¼µã¨Chromeæ‹¡å¼µé€£æºï¼ˆâœ… å®Œäº†ã€P0ä¿®æ­£å®Œäº† 2025-10-14ï¼‰
  - **WebSocketMessage::Transcriptionæ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ **ï¼ˆ`src-tauri/src/websocket.rs`ï¼‰
    - `isPartial`: Option<bool> - éƒ¨åˆ†/ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆã®æ˜ç¤ºåŒ–
    - `confidence`: Option<f64> - ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ï¼ˆ0.0-1.0ï¼‰
    - `language`: Option<String> - è¨€èªã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: "ja"ï¼‰
    - `processingTimeMs`: Option<u64> - å‡¦ç†æ™‚é–“ï¼ˆãƒŸãƒªç§’ï¼‰
    - `#[serde(skip_serializing_if = "Option::is_none")]` ã§å¾Œæ–¹äº’æ›æ€§ç¢ºä¿
  - **âš ï¸ P0æ¬ é™¥ç™ºè¦‹ã¨ä¿®æ­£**: partial_textã‚¤ãƒ™ãƒ³ãƒˆãŒWebSocketã«é…ä¿¡ã•ã‚Œãšã€is_partialãŒå¸¸ã«falseã ã£ãŸå•é¡Œã‚’ä¿®æ­£
    - **å•é¡Œ**: commands.rs L341-346ã§partial_textãƒ–ãƒ©ãƒ³ãƒãŒTODOã‚³ãƒ¡ãƒ³ãƒˆã®ã¿ã§å®Ÿè£…ã•ã‚Œã¦ã„ãªã‹ã£ãŸ
    - **å½±éŸ¿**: Chromeæ‹¡å¼µãŒéƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆã‚’å—ä¿¡ã§ããšã€STT-REQ-008.1ã®partial/finalè­˜åˆ¥ãŒä¸å¯èƒ½ï¼ˆãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ï¼‰
    - **ä¿®æ­£å†…å®¹**ï¼ˆcommands.rs L15-22, L350-425ï¼‰:
      - `extract_extended_fields()` ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°è¿½åŠ ï¼ˆã‚³ãƒ¼ãƒ‰é‡è¤‡å›é¿ï¼‰
      - `partial_text` ãƒ–ãƒ©ãƒ³ãƒã§WebSocket.broadcast()å®Ÿè£…ï¼ˆ`is_partial: Some(true)`ï¼‰
      - `final_text` ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ä½¿ç”¨ã«çµ±ä¸€ï¼ˆ`is_partial: Some(false)`ï¼‰
      - ä¸¡ãƒ–ãƒ©ãƒ³ãƒã§confidence/language/processing_time_msã‚’åŒä¸€ãƒ­ã‚¸ãƒƒã‚¯ã§æŠ½å‡º
  - **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ6ä»¶ä½œæˆãƒ»å…¨åˆæ ¼**ï¼ˆ`tests/websocket_message_extension_test.rs`ï¼‰
    - `test_transcription_with_all_extended_fields`: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºæ¤œè¨¼
    - `test_transcription_backward_compatibility_minimal_fields`: å¾Œæ–¹äº’æ›æ€§æ¤œè¨¼ï¼ˆSTT-REQ-008.2ï¼‰
    - `test_transcription_partial_fields`: ä¸€éƒ¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çœç•¥æ¤œè¨¼
    - `test_confidence_range_validation`: ä¿¡é ¼åº¦ç¯„å›²æ¤œè¨¼
    - `test_deserialization_from_python_response`: Pythonãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºæ¤œè¨¼
    - `test_chrome_extension_ignores_unknown_fields`: æœªçŸ¥ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–æ¤œè¨¼ï¼ˆSTT-REQ-008.2ï¼‰
  - **æ—¢å­˜ãƒ†ã‚¹ãƒˆä¿®æ­£å®Œäº†**ï¼ˆ`tests/integration/websocket_integration.rs`ï¼‰
    - æ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’Noneã§åˆæœŸåŒ–ï¼ˆå¾Œæ–¹äº’æ›æ€§ç¶­æŒï¼‰
  - **å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼**: æ–°è¦6 + æ—¢å­˜çµ±åˆ3 = 9ãƒ†ã‚¹ãƒˆï¼ˆWebSocketçµ±åˆ3ä»¶ã€IPCçµ±åˆ26ä»¶å…¨åˆæ ¼ï¼‰
  - **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æˆåŠŸ**: P0ä¿®æ­£å¾Œã«warningã®ã¿ï¼ˆæ—¢å­˜deprecation warningï¼‰
  - _Requirements: STT-REQ-008.1, STT-REQ-008.2, Principle 3ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è²¬ä»»å¢ƒç•Œï¼‰ï¼ˆP0ä¿®æ­£å®Œäº†ã€å®Œå…¨å®Ÿè£…ï¼‰_

---

## Task 9: UIæ‹¡å¼µã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šæ©Ÿèƒ½ï¼ˆMVP1å®Œæˆãƒ•ã‚§ãƒ¼ã‚ºï¼‰

**æœŸé–“**: 5-7æ—¥
**å„ªå…ˆåº¦**: ğŸ”´ P0 Criticalï¼ˆMVP1å¿…é ˆï¼‰
**ç›®çš„**: Phase 7/8ã§å®‰å®šåŒ–ã—ãŸåŸºç›¤ã®ä¸Šã«ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šUIã‚’å®Ÿè£…ã—ã€MVP1å®ŒæˆçŠ¶æ…‹ã«ã™ã‚‹

- [x] 9.1 éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹é¸æŠUIï¼ˆâœ… å®Œäº† 2025-10-19ï¼‰
  - âœ… åˆ©ç”¨å¯èƒ½ãªéŸ³å£°å…¥åŠ›ãƒ‡ãƒã‚¤ã‚¹ä¸€è¦§ã‚’å–å¾—ã—ã¦è¡¨ç¤ºï¼ˆ`list_audio_devices` Tauri commandå®Ÿè£…ï¼‰
  - âœ… ãƒ‡ãƒã‚¤ã‚¹é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆReactï¼‰å®Ÿè£…ï¼ˆsrc/App.tsxï¼‰
  - âœ… é¸æŠã•ã‚ŒãŸãƒ‡ãƒã‚¤ã‚¹IDã®è¨­å®šä¿å­˜æ©Ÿèƒ½ï¼ˆlocalStorage + Tauri Stateç®¡ç†ï¼‰
  - âœ… ãƒ‡ãƒã‚¤ã‚¹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆåå‰ã€ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆã€ãƒãƒ£ãƒ³ãƒãƒ«æ•°ï¼‰ã®è¡¨ç¤º
  - âœ… å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œå®Œäº†ï¼ˆé™çš„åˆ—æŒ™ã€device_idæ¸¡ã—ã€snake_caseçµ±ä¸€ï¼‰
  - ğŸ“„ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: `docs/dev/stt-core-components.md` ã« `enumerate_devices_static` / `set_selected_device_id` / `get_selected_device_id` ã®å½¹å‰²ã¨ä½¿ç”¨ä¾‹ã‚’è¿½è¨˜ï¼ˆ2025-10-19ï¼‰
  - _Requirements: STT-REQ-001.2, STT-REQ-001.3ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [x] 9.2 Whisperãƒ¢ãƒ‡ãƒ«é¸æŠUIï¼ˆâœ… å®Œäº† 2025-10-19ï¼‰
  - âœ… ãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºé¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼ˆtiny/base/small/medium/large-v3ï¼‰å®Ÿè£…
  - âœ… è‡ªå‹•é¸æŠ/ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒå®Ÿè£…
  - âœ… ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹ã«åŸºã¥ãæ¨å¥¨ãƒ¢ãƒ‡ãƒ«è¡¨ç¤ºï¼ˆ`get_whisper_models` commandï¼‰
  - âœ… ãƒªã‚½ãƒ¼ã‚¹è¶…éè­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼ˆãƒ¢ãƒ‡ãƒ«ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
  - âœ… ãƒ¢ãƒ‡ãƒ«é¸æŠã®è¨­å®šä¿å­˜æ©Ÿèƒ½ï¼ˆlocalStorageï¼‰
  - âœ… å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œå®Œäº†ï¼ˆè­¦å‘Šãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£: é‡ã„ãƒ¢ãƒ‡ãƒ«é¸æŠæ™‚ã®ã¿è­¦å‘Šï¼‰
  - _Requirements: STT-REQ-006.4, STT-REQ-006.5ï¼ˆå®Œå…¨å®Ÿè£…ï¼‰_

- [ ] 9.3 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰è¨­å®šUIï¼ˆâ¸ï¸ MVP2å»¶æœŸã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…æ¸ˆã¿ï¼‰
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰å¼·åˆ¶ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
  - ãƒãƒ³ãƒ‰ãƒ«ãƒ¢ãƒ‡ãƒ«ä½¿ç”¨çŠ¶æ…‹ã®è¡¨ç¤ºã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
  - HuggingFace Hubæ¥ç¶šã‚¹ã‚­ãƒƒãƒ—ã®å‹•ä½œç¢ºèª
  - _Requirements: STT-REQ-002.6_

- [ ] 9.4 ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–é€šçŸ¥UIï¼ˆâ¸ï¸ MVP2å»¶æœŸã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…æ¸ˆã¿ã€IPCé€šçŸ¥é…ä¿¡æ¸ˆã¿ï¼‰
  - ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆReactï¼‰å®Ÿè£…
  - ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆé€šçŸ¥ã€Œãƒ¢ãƒ‡ãƒ«å¤‰æ›´: {old} â†’ {new}ã€ã®è¡¨ç¤º
  - ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹ä¸è¶³è­¦å‘Šã®è¡¨ç¤º
  - é€šçŸ¥ã®è‡ªå‹•æ¶ˆå»ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ5ç§’ï¼‰
  - _Requirements: STT-REQ-006.7, STT-REQ-006.8, STT-REQ-006.10_

- [ ] 9.5 ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†UIï¼ˆâ¸ï¸ MVP2å»¶æœŸã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…æ¸ˆã¿ï¼‰
  - éå»ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§è¡¨ç¤ºï¼ˆæ—¥æ™‚é™é †ã‚½ãƒ¼ãƒˆï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³é¸æŠã«ã‚ˆã‚‹è©³ç´°è¡¨ç¤ºï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€æ–‡å­—èµ·ã“ã—çµæœï¼‰
  - éŸ³å£°å†ç”Ÿæ©Ÿèƒ½ï¼ˆaudio.wav playbackï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤æ©Ÿèƒ½ï¼ˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ãï¼‰
  - _Requirements: STT-REQ-005.5, STT-REQ-005.6_

---

## Task 10: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»E2Eãƒ†ã‚¹ãƒˆï¼ˆã‚³ã‚¢æ©Ÿèƒ½æ¤œè¨¼ï¼‰

**æœŸé–“**: 2-3æ—¥
**å„ªå…ˆåº¦**: ğŸ”´ P0 Criticalï¼ˆGapåˆ†æï¼šOption Bæ¤œè¨¼å„ªå…ˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼‰
**ç›®çš„**: Phase 1-6ã§å®Ÿè£…æ¸ˆã¿ã®ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆéŸ³å£°éŒ²éŸ³â†’VADâ†’STTâ†’ä¿å­˜ï¼‰ã®çµ±åˆå‹•ä½œã‚’æ¤œè¨¼ã—ã€çµ±åˆå•é¡Œã‚’æ—©æœŸç™ºè¦‹ã™ã‚‹

**å®Ÿè£…çŠ¶æ³**ï¼ˆ2025-10-19æ›´æ–°ï¼‰:
- âœ… **Task 10.1-10.3 å®Œäº†**ï¼ˆMVP1ã‚³ã‚¢æ©Ÿèƒ½E2Eæ¤œè¨¼ï¼‰
- âœ… **E2Eãƒ†ã‚¹ãƒˆå®Ÿè£…å®Œäº†**ï¼ˆ`src-tauri/tests/stt_e2e_test.rs`ã€test_audio_recording_to_transcription_full_flowï¼‰
  - 1/7ã®ãƒ†ã‚¹ãƒˆãŒå®Œå…¨å®Ÿè£…ï¼ˆTask 10.1 Phase 1ï¼‰
  - 6/7ã®ãƒ†ã‚¹ãƒˆãŒæœªå®Ÿè£…ï¼ˆTask 10.4-10.7ã€`#[ignore]`ã¾ãŸã¯`unimplemented!()`ï¼‰
- âœ… **P0 Blockerè§£æ±ºå®Ÿç¸¾**:
  - BLOCK-005: Pythonã‚µã‚¤ãƒ‰ã‚«ãƒ¼ãƒãƒ³ãƒ‰ã‚·ã‚§ã‚¤ã‚¯å•é¡Œï¼ˆ`.cargo/config.toml`ã§APP_PYTHONç’°å¢ƒå¤‰æ•°è¨­å®šï¼‰
  - BLOCK-006: MockAudioDataGeneratorä½œæˆï¼ˆãƒ†ã‚¹ãƒˆéŸ³å£°WAV 3ç¨®é¡ç”Ÿæˆï¼‰
  - BLOCK-007: å®Ÿè¡Œå¯èƒ½ãªãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼å®Ÿè£…ï¼ˆverify_partial_final_text_distribution + partial_textæ˜ç¤ºçš„æ¤œè¨¼ï¼‰
- âœ… **P0 Bugä¿®æ­£å®Ÿç¸¾**:
  - ADR-014: VAD Pre-roll Bufferï¼ˆ300mséŸ³å£°æå¤±å•é¡Œä¿®æ­£ã€speech_end/partial_textã®ä¸¡æ–¹ã§å®Œå…¨ä¿å­˜ï¼‰
  - ADR-016: Offline Model Fallbackï¼ˆSTT-REQ-002.4æœªå®Ÿè£…å•é¡Œä¿®æ­£ã€WhisperModelä¾‹å¤–æ™‚ã®bundledãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…ï¼‰
- âœ… **ãƒ†ã‚¹ãƒˆåˆæ ¼å®Ÿç¸¾**:
  - VAD: 19/19 tests âœ…
  - AudioPipeline: 11/11 tests âœ…
  - Offline Fallback: 14/14 tests âœ…
  - ResourceMonitor: 58/60 tests (96.7%) âœ…
  - E2E: 1/1 test (Task 10.1) âœ…

**Phase 1é”æˆåŸºæº–**:
- âœ… VAD + STTçµ±åˆå‹•ä½œæ¤œè¨¼å®Œäº†ï¼ˆTask 10.1 Phase 1ï¼‰
- âœ… Python sidecarèµ·å‹•ã¨WhisperåˆæœŸåŒ–ç¢ºèª
- âœ… éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆï¼ˆis_final=falseï¼‰ã¨ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆï¼ˆis_final=trueï¼‰ã®é…ä¿¡ç¢ºèª
- âœ… speech_end ã‚¤ãƒ™ãƒ³ãƒˆæ¤œè¨¼
- âœ… IPCã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡ï¼ˆprocess_audio_streamï¼‰

**Phase 2 (Future)**:
- â¸ï¸ LocalStorageçµ±åˆï¼ˆaudio.wav, transcription.jsonl, session.jsonï¼‰
- â¸ï¸ WebSocketçµ±åˆï¼ˆChromeæ‹¡å¼µé…ä¿¡ï¼‰
- â¸ï¸ Task 10.2-10.7å®Ÿè£…ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã€ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ã€ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­ã€ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ç­‰ï¼‰

**æ®‹èª²é¡Œ**:
- Task 10.2-10.7ã®E2Eãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆç¾åœ¨ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã®ã¿ï¼‰

- [x] 10.1 éŸ³å£°éŒ²éŸ³â†’VADâ†’STTâ†’ä¿å­˜ã®å®Œå…¨ãƒ•ãƒ­ãƒ¼æ¤œè¨¼ï¼ˆâœ… Phase 1 å®Œäº†ã€Phase 2 Futureï¼‰
  - âœ… **Phase 1 (VAD + STT Core Flow) - COMPLETED**:
    - Python sidecarèµ·å‹•ã¨WhisperåˆæœŸåŒ–ç¢ºèª
    - VADéŸ³å£°æ¤œå‡ºï¼ˆspeech_startã€no_speechï¼‰
    - éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆï¼ˆpartial_text with is_final=falseï¼‰
    - ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆï¼ˆfinal_text with is_final=trueï¼‰
    - speech_end ã‚¤ãƒ™ãƒ³ãƒˆæ¤œè¨¼
    - IPCã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡ï¼ˆprocess_audio_streamï¼‰
    - ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ä¿è­·ï¼ˆpartial_textæ˜ç¤ºçš„æ¤œè¨¼è¿½åŠ ï¼‰
  - â¸ï¸ **Phase 2 (LocalStorage + WebSocket) - Futureï¼ˆåˆ¥ã‚¿ã‚¹ã‚¯åŒ–äºˆå®šï¼‰**:
    - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¸ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ï¼ˆaudio.wav, transcription.jsonl, session.jsonï¼‰ã‚’æ¤œè¨¼
    - WebSocketçµŒç”±ã§Chromeæ‹¡å¼µã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã‚’ç¢ºèª
  - _Requirements: STT-REQ-001, STT-REQ-002, STT-REQ-003 (Phase 1 âœ…), STT-REQ-005, STT-REQ-008 (Phase 2 â¸ï¸)_
  - _Test: `cargo test --test stt_e2e_test test_audio_recording_to_transcription_full_flow` (1 passed, 22.36s)_

- [x] 10.2 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯E2Eãƒ†ã‚¹ãƒˆï¼ˆâœ… Pythonå´å®Œäº†ã€Rustå´ä¿ç•™ï¼‰
  - âœ… **Pythonå´ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Œäº†**ï¼ˆ`tests/test_offline_model_fallback.py`ã€14ä»¶åˆæ ¼ï¼‰:
    - HuggingFace Hubãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æˆåŠŸãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ¤œè¨¼
    - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼æ™‚ã®bundled modelãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    - offline_mode=Trueè¨­å®šæ™‚ã®Hubæ¥ç¶šã‚¹ã‚­ãƒƒãƒ—
    - ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒå¤‰æ•°ï¼ˆHTTPS_PROXY/HTTP_PROXYï¼‰èªè­˜
    - ãƒ¢ãƒ‡ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å‹•ä½œæ¤œè¨¼
  - âœ… **P0 Bugä¿®æ­£å®Œäº†**ï¼ˆADR-016ï¼‰:
    - **å•é¡Œ**: STT-REQ-002.4ã€Œãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼â†’bundled baseã€ãŒæœªå®Ÿè£…ï¼ˆfalse positive testï¼‰
    - **ä¿®æ­£**: `initialize()` ã§WhisperModel loadå¤±æ•—æ™‚ã« `_detect_bundled_model_path()` å‘¼ã³å‡ºã—
    - **å½±éŸ¿**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç’°å¢ƒã§ã®åˆå›èµ·å‹•ãŒå‹•ä½œä¸èƒ½ã ã£ãŸ â†’ ä¿®æ­£å¾Œã¯ bundled baseã¸è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    - **ãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã‚ˆã†2ãƒ†ã‚¹ãƒˆä¿®æ­£ï¼ˆmockæˆ¦ç•¥å¤‰æ›´ï¼‰
  - â¸ï¸ **Rustå´E2Eä¿ç•™**ï¼ˆå®Ÿè£…å„ªå…ˆåº¦ä½ã€ã‚¤ãƒ³ãƒ•ãƒ©çµ±åˆãƒ†ã‚¹ãƒˆçš„ï¼‰:
    - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç’°å¢ƒå¤‰æ•°åˆ¶å¾¡ã€ãƒ¢ãƒƒã‚¯è¤‡é›‘ï¼‰
    - CIç’°å¢ƒã§ã®å†ç¾æ€§èª²é¡Œ
    - Pythonå´ã§ååˆ†ã‚«ãƒãƒ¼æ¸ˆã¿ã®ãŸã‚ã€MVP1ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã¨ã™ã‚‹
  - _Requirements: STT-REQ-002.4, STT-REQ-002.5 (Pythonå´ âœ…)_
  - _Test: `pytest tests/test_offline_model_fallback.py` (14 passed, 0.25s)_

- [x] 10.3 å‹•çš„ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰E2Eãƒ†ã‚¹ãƒˆï¼ˆâœ… Pythonå´ã»ã¼å®Œäº†ã€Rustå´ä¿ç•™ï¼‰
  - âœ… **Pythonå´ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**ï¼ˆ`tests/test_resource_monitor.py`ã€58/60ä»¶åˆæ ¼ = 96.7%ï¼‰:
    - CPUä½¿ç”¨ç‡85% @ 60ç§’ç¶™ç¶šã§ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ¤œè¨¼ âœ…
    - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡3GB/4GBåˆ°é”æ™‚ã®å³åº§ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ âš ï¸ï¼ˆ2ä»¶å¤±æ•—ã€Task 11.6ã§ä¿®æ­£äºˆå®šï¼‰
    - UIé€šçŸ¥ç”Ÿæˆï¼ˆãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ã€ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆã€éŒ²éŸ³ä¸€æ™‚åœæ­¢ï¼‰âœ…
    - ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹æ¤œè¨¼ âœ…
    - ãƒªã‚½ãƒ¼ã‚¹å›å¾©æ™‚ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ææ¡ˆï¼ˆ5åˆ†å¾…æ©Ÿï¼‰âœ…
  - âœ… **çµ±åˆãƒ†ã‚¹ãƒˆ**ï¼ˆ`tests/test_audio_integration.py::TestResourceMonitorIntegration`ã€7ä»¶åˆæ ¼ï¼‰:
    - AudioPipeline + ResourceMonitorçµ±åˆå‹•ä½œæ¤œè¨¼
    - ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰å¤±æ•—æ™‚ã®çŠ¶æ…‹ä¸€è²«æ€§
    - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å®Ÿè¡Œ
  - â¸ï¸ **Rustå´E2Eä¿ç•™**ï¼ˆå®Ÿè£…å„ªå…ˆåº¦ä½ã€Pythonå´ã§ã‚«ãƒãƒ¼æ¸ˆã¿ï¼‰
  - _Requirements: STT-REQ-006.6, STT-REQ-006.7, STT-REQ-006.8, STT-REQ-006.9 (Pythonå´ 96.7% âœ…)_
  - _Test: `pytest tests/test_resource_monitor.py -k "monitor or downgrade"` (58/60 passed)_

- [ ] 10.4 ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­/å†æ¥ç¶šE2Eãƒ†ã‚¹ãƒˆï¼ˆâŒ æœªå®Ÿè£…ã€`unimplemented!()`ï¼‰
  - éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - 5ç§’å¾Œã®è‡ªå‹•å†æ¥ç¶šè©¦è¡Œï¼ˆæœ€å¤§3å›ï¼‰ã‚’æ¤œè¨¼
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ã€ŒéŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ãŒåˆ‡æ–­ã•ã‚Œã¾ã—ãŸã€ã®è¡¨ç¤ºç¢ºèª
  - å†æ¥ç¶šå¤±æ•—æ™‚ã®æœ€çµ‚ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç¢ºèª
  - _Note: Task 2.5ã§æ¤œå‡ºæ©Ÿèƒ½å®Ÿè£…æ¸ˆã¿ã€E2Eãƒ†ã‚¹ãƒˆæœªå®Ÿè£…_
  - _Requirements: STT-REQ-004.9, STT-REQ-004.10, STT-REQ-004.11_

- [ ] 10.5 ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ E2Eãƒ†ã‚¹ãƒˆï¼ˆâŒ æœªå®Ÿè£…ã€`unimplemented!()`ï¼‰
  - macOS/Windows/Linuxã®å„ç’°å¢ƒã§éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹åˆ—æŒ™ã‚’å®Ÿè¡Œ
  - å„OSå›ºæœ‰ã®ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚­ãƒ£ãƒ—ãƒãƒ£ï¼ˆBlackHole/WASAPI/PulseAudioï¼‰ã‚’æ¤œè¨¼
  - å…¨ç’°å¢ƒã§éŒ²éŸ³â†’STTâ†’ä¿å­˜ã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼å‹•ä½œç¢ºèª
  - _Note: Task 2.4ã§ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ãƒ‡ãƒã‚¤ã‚¹èªè­˜å®Ÿè£…æ¸ˆã¿ã€E2Eãƒ†ã‚¹ãƒˆæœªå®Ÿè£…_
  - _Requirements: STT-REQ-004.3, STT-REQ-004.4, STT-REQ-004.5, STT-NFR-003.1_

- [ ] 10.6 IPC/WebSocketå¾Œæ–¹äº’æ›æ€§ãƒ†ã‚¹ãƒˆï¼ˆâŒ æœªå®Ÿè£…ã€ã‚³ãƒ¡ãƒ³ãƒˆã®ã¿ï¼‰
  - Phase 6ã§æ‹¡å¼µã—ãŸIPCãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆconfidence/language/processingTimeMs/modelSizeï¼‰ã®é€å—ä¿¡æ¤œè¨¼
  - WebSocketæ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆisPartial/confidence/language/speakerSegment/processingTimeMsï¼‰ã®é…ä¿¡ç¢ºèª
  - meeting-minutes-coreï¼ˆFakeå®Ÿè£…ï¼‰ã¨ã®äº’æ›æ€§ç¢ºèªï¼ˆæ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç„¡è¦–ï¼‰
  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‹•ä½œï¼ˆãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³=è­¦å‘Šã€ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³=ã‚¨ãƒ©ãƒ¼ï¼‰ã‚’æ¤œè¨¼
  - _Note: tests/ipc_migration_test.rs (26 tests)ã€tests/websocket_message_extension_test.rs (6 tests)ã§**ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**ã‚«ãƒãƒ¼æ¸ˆã¿ã€E2Eçµ±åˆãƒ†ã‚¹ãƒˆæœªå®Ÿè£…_
  - _Requirements: STT-REQ-007.1, STT-REQ-007.2, STT-REQ-007.3, STT-REQ-007.6, STT-REQ-008.1, STT-REQ-008.2_

- [ ] 10.7 éæ©Ÿèƒ½è¦ä»¶æ¤œè¨¼ï¼ˆSLAã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„ï¼‰ï¼ˆâŒ æœªå®Ÿè£…ã€`unimplemented!()`ï¼‰
  - éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆå¿œç­”æ™‚é–“ < 0.5ç§’ã‚’æ¸¬å®šï¼ˆVADç™ºè©±æ¤œå‡ºã‹ã‚‰éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡ã¾ã§ï¼‰
  - ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆå¿œç­”æ™‚é–“ < 2ç§’ã‚’æ¸¬å®šï¼ˆVADç™ºè©±çµ‚äº†æ¤œå‡ºã‹ã‚‰ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆé…ä¿¡ã¾ã§ï¼‰
  - 2æ™‚é–“é€£ç¶šéŒ²éŸ³æ™‚ã®ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ < 2GBã‚’æ¤œè¨¼
  - ç¶™ç¶šéŒ²éŸ³æ™‚ã®CPUä½¿ç”¨ç‡ < 50%ã‚’æ¸¬å®š
  - faster-whisperæ¨è«–æ™‚é–“ã®ç›®æ¨™é”æˆç¢ºèªï¼ˆtiny/base: <0.2s, small: <0.5s, medium: <1s, large: <2sï¼‰
  - _Note: Task 11.1-11.3ã¨é‡è¤‡ã€çµ±åˆå®Ÿè£…äºˆå®š_
  - _Requirements: STT-NFR-001.1, STT-NFR-001.2, STT-NFR-001.4_

- [ ] 11. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã¨éæ©Ÿèƒ½è¦ä»¶æ¤œè¨¼
- [ ] 11.1 ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æœ€é©åŒ–
  - éƒ¨åˆ†ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆãƒ¬ã‚¤ãƒ†ãƒ³ã‚·è¨ˆæ¸¬ï¼ˆç›®æ¨™: 0.5ç§’ä»¥å†…ï¼‰
  - ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆãƒ¬ã‚¤ãƒ†ãƒ³ã‚·è¨ˆæ¸¬ï¼ˆç›®æ¨™: 2ç§’ä»¥å†…ï¼‰
  - ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®šã¨ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
  - _Requirements: STT-NFR-001.1, STT-NFR-001.2_

- [ ] 11.2 ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡æ¤œè¨¼
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è¨ˆæ¸¬ï¼ˆ2æ™‚é–“éŒ²éŸ³ã§æœ€å¤§2GBï¼‰
  - CPUä½¿ç”¨ç‡è¨ˆæ¸¬ï¼ˆç¶™ç¶šçš„ã«50%ä»¥ä¸‹ï¼‰
  - ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡è¨ˆæ¸¬
  - _Requirements: STT-NFR-001.3, STT-NFR-001.4_

- [ ] 11.3 é•·æ™‚é–“ç¨¼åƒå®‰å®šæ€§ãƒ†ã‚¹ãƒˆ
  - 2æ™‚é–“é€£ç¶šéŒ²éŸ³ãƒ†ã‚¹ãƒˆ
  - ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯æ¤œè¨¼
  - ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
  - _Requirements: STT-NFR-001.5, STT-NFR-001.6_

- [ ] 11.6 è©³ç´°Metricså®Ÿè£…ã¨Rollback Strategyï¼ˆTask 7.3.9æ®‹èª²é¡Œï¼‰
  - **SessionMetricsè©³ç´°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®Ÿè£…**:
    - `mutex_contention_count`: Mutexç«¶åˆç™ºç”Ÿå›æ•°ï¼ˆæƒ³å®š0ï¼‰
    - `stdin_lock_duration_us`: stdin Mutexä¿æŒæ™‚é–“ï¼ˆãƒã‚¤ã‚¯ãƒ­ç§’ï¼‰
    - `stdout_lock_duration_us`: stdout Mutexä¿æŒæ™‚é–“ï¼ˆãƒã‚¤ã‚¯ãƒ­ç§’ï¼‰
    - `concurrent_operations_count`: ä¸¦è¡Œæ“ä½œã‚«ã‚¦ãƒ³ãƒˆ
    - `python_hangs_detected`: Pythonç•°å¸¸æ¤œå‡ºå›æ•°
    - `callback_duration_us`: Audio callbackå®Ÿè¡Œæ™‚é–“ï¼ˆãƒã‚¤ã‚¯ãƒ­ç§’ï¼‰
  - **Alert Conditionså®Ÿè£…**:
    - mutex_contention_count > 100/ç§’ â†’ è¨­è¨ˆæƒ³å®šå¤–ã‚¢ãƒ©ãƒ¼ãƒˆ
    - frames_dropped > 100 â†’ Pythonç•°å¸¸ã‚¢ãƒ©ãƒ¼ãƒˆ
    - callback_duration_us > 100 â†’ CPALåœæ­¢ãƒªã‚¹ã‚¯ã‚¢ãƒ©ãƒ¼ãƒˆ
  - **Feature flagè¿½åŠ **: `USE_STDIN_STDOUT_SEPARATED_MUTEX`ï¼ˆå°†æ¥ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰
  - **Rollbackæ‰‹é †æ–‡æ›¸åŒ–**: ADR-013 â†’ ADR-008ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã®`SessionMetrics::report()`ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
  - _Note: Task 7.3.9ã§è¨ˆç”»ã•ã‚Œã¦ã„ãŸãŒã€ADR-013å®Ÿè£…ã§Success Criteriaé”æˆæ¸ˆã¿ã®ãŸã‚P1ã«é™æ ¼_
  - _Requirements: STT-REQ-007.7ï¼ˆé‹ç”¨ç›£è¦–å¼·åŒ–ï¼‰_

- [ ] 11.1 IPCãƒ¬ã‚¤ãƒ†ãƒ³ã‚·è¨ˆæ¸¬åŸºç›¤
  - `PythonSidecarManager::send_message()` ã«é€ä¿¡ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ä»˜ä¸ï¼ˆmonotonicã‚¯ãƒ­ãƒƒã‚¯ï¼‰
  - `receive_message()` ã§å¿œç­”ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’å–å¾—ã—ã€`ipc_latency_ms` ã‚’ç®—å‡º
  - `logger` çµŒç”±ã§ã‚¤ãƒ™ãƒ³ãƒˆ (`ipc.latency`) ã‚’æ§‹é€ åŒ–ãƒ­ã‚°ã¸å‡ºåŠ›
  - `scripts/performance_report.py` ã«é›†è¨ˆå‡¦ç†ã‚’è¿½åŠ ã—ã€P95/P99 ã‚’ç®—å‡º
  - _Requirements: STT-REQ-007.8, STT-NFR-001 (Diagnostics)_

- [ ] 11.2 æ§‹é€ åŒ–ãƒ­ã‚°ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ
  - `println!/eprintln!` ã‚’ `log_info!`/`log_error!` ã«ç½®æ›ï¼ˆlib.rs / commands.rs / websocket.rs ãªã©ï¼‰
  - ãƒ­ã‚°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¨™æº–åŒ–: `session_id`, `component`, `event`, `duration_ms`, `pii_masked`
  - Pythonå´ `logging` ã‚’ JSON ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«çµ±ä¸€ã—ã€ResourceMonitor / AudioPipeline ã§ã‚‚åŒæ§˜ã«å‡ºåŠ›
  - _Requirements: STT-NFR-005 (Logging policy)_

- [ ] 11.3 ãƒ€ã‚¤ã‚¢ã‚°ãƒã‚¹ãƒ†ã‚£ã‚¯ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  - ãƒ­ãƒ¼ã‚«ãƒ« `scripts/performance_report.py` ã§ IPCãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã¨ãƒªã‚½ãƒ¼ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’HTML/Markdownãƒ¬ãƒãƒ¼ãƒˆåŒ–
  - å°†æ¥ã®CIé€£æºã‚’æƒ³å®šã—ã€`artifacts/diagnostics/` ã«å‡ºåŠ›ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’è¨­è¨ˆ
  - _Requirements: STT-NFR-001.6, STT-NFR-005.4_

- [ ] 11.4 ãƒ­ã‚°/ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æ¤œè¨¼
  - æ§‹é€ åŒ–JSONãƒ­ã‚°ã« `session_id`, `event`, `ipc_latency_ms` ãŒæ­£ã—ãå‡ºåŠ›ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
  - PII ãƒã‚¹ã‚¯ï¼ˆéŸ³å£°ãƒ‡ãƒ¼ã‚¿æœ¬æ–‡ãŒè¨˜éŒ²ã•ã‚Œãªã„ï¼‰ã®æ¤œè¨¼
  - ç•°å¸¸æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ã¨ãƒ­ã‚°å†…å®¹ã®æ•´åˆæ€§ç¢ºèª
  - _Requirements: STT-NFR-005_

- [x] 11.5 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆï¼ˆâš ï¸ æ¤œè¨¼å®Œäº†ã€ä¿®æ­£ä¿ç•™ 2025-10-19ï¼‰
  - âœ… TLS 1.2ä»¥é™æ¥ç¶šæ¤œè¨¼ï¼ˆHuggingFace Hubï¼‰ - Pythonæ¨™æº–SSL contextã§TLS 1.2+å¼·åˆ¶ï¼ˆ**è¦å®Ÿè¨¼ãƒ†ã‚¹ãƒˆ: TLS 1.0/1.1ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¥ç¶šå¤±æ•—ç¢ºèª**ã€MVP2 Phase 0ï¼‰
  - âœ… ä¾å­˜é–¢ä¿‚è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ - å®Ÿæ–½å®Œäº†ã€**ä¿®æ­£ä¿ç•™**ï¼ˆSEC-001: pip 25.0 Mediumè„†å¼±æ€§ã€MVP2 Phase 0ã§ä¿®æ­£ï¼‰
  - âœ… ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™æ¤œè¨¼ - ç¾çŠ¶644/755ç¢ºèªã€**å¼·åˆ¶æœªå®Ÿè£…**ï¼ˆSEC-003: umaskä¾å­˜ãƒªã‚¹ã‚¯ã€MVP2 Phase 0ã§`mode(0o600)`å¼·åˆ¶ï¼‰
  - âœ… éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãƒ•ãƒ­ãƒ¼æ¤œè¨¼ - OSãƒ¬ãƒ™ãƒ«è¨±å¯ãƒ•ãƒ­ãƒ¼ä½¿ç”¨ï¼ˆCoreAudio/WASAPI/ALSAï¼‰
  - âœ… APIã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡æ¤œè¨¼ - Tauri commandsã®ã¿å…¬é–‹ã€**ä¿®æ­£ä¿ç•™**ï¼ˆSEC-002: CSP nullã€MVP2 Phase 0ã§æœ¬ç•ªCSPè¨­å®šï¼‰
  - âœ… Rustä¾å­˜é–¢ä¿‚ã‚¹ã‚­ãƒ£ãƒ³ - **å®Ÿæ–½ãƒ–ãƒ­ãƒƒã‚¯**ï¼ˆSEC-004: cargo-auditæœªå®Ÿæ–½ã€Rust 1.85å¿…è¦ã€ãƒªãƒªãƒ¼ã‚¹å¾Œå³å®Ÿæ–½ï¼‰
  - âœ… ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ: `.kiro/specs/meeting-minutes-stt/security-test-report.md`
  - _Requirements: STT-NFR-004ï¼ˆæ¤œè¨¼å®Ÿæ–½è¦ä»¶æº€ãŸã™ã€ä¿®æ­£ã¯åˆ¥ã‚¿ã‚¹ã‚¯ï¼‰_
  - _Test: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼å®Œäº†ã€**4ä»¶ã®ä¿®æ­£ä¿ç•™ãƒã‚±ãƒƒãƒˆ**ï¼ˆSEC-001/002: Mediumã€SEC-003/004: Blocked/Mediumã€MVP2 Phase 0ã§å¯¾å¿œï¼‰_

- [ ] 12. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒªãƒ¼ã‚¹æº–å‚™
- [ ] 12.1 UMLå›³ã®ä½œæˆ
  - CMP-001_STT-Audio-Processing-Pipeline.pumlï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³ï¼‰
  - SEQ-001_Audio-Recording-to-Transcription.pumlï¼ˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ï¼‰
  - SEQ-002_Offline-Model-Fallback.pumlï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
  - SEQ-003_Dynamic-Model-Downgrade.pumlï¼ˆå‹•çš„ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼‰
  - CLS-001_Audio-Device-Adapter.pumlï¼ˆã‚¯ãƒ©ã‚¹å›³ï¼‰
  - _Requirements: STT-NFR-005 (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/ãƒ­ã‚°é‹ç”¨æ–¹é‡), STT-REQ-001, STT-REQ-002, STT-REQ-003, STT-REQ-006_

- [ ] 12.2 ADRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨æ›´æ–°
  - ADR-001ï¼ˆéŒ²éŸ³è²¬å‹™ä¸€å…ƒåŒ–ï¼‰ã®å®Ÿè£…æ¤œè¨¼
  - ADR-002ï¼ˆãƒ¢ãƒ‡ãƒ«é…å¸ƒæˆ¦ç•¥ï¼‰ã®å®Ÿè£…æ¤œè¨¼
  - ADR-003ï¼ˆIPCãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼‰ã®å®Ÿè£…æ¤œè¨¼
  - _Requirements: STT-REQ-001 (éŒ²éŸ³è²¬å‹™), STT-REQ-002 (faster-whisperçµ±åˆ/ã‚ªãƒ•ãƒ©ã‚¤ãƒ³), STT-REQ-007 (IPCãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°)_

- [ ] 12.3 READMEæ›´æ–°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ä½œæˆ
  - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã®æ›´æ–°
  - faster-whisperãƒ¢ãƒ‡ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
  - éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹è¨­å®šã‚¬ã‚¤ãƒ‰ï¼ˆmacOS BlackHoleã€Windows WASAPI loopbackã€Linux PulseAudio monitorï¼‰
  - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰
  - _Requirements: å…¨è¦ä»¶_

- [ ] 12.4 ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ¤œè¨¼ãƒ©ãƒ³ãƒ–ãƒƒã‚¯ã®æ•´å‚™
  - `docs/platform-verification.md` ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãƒ»ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’æœ€æ–°åŒ–
  - `scripts/platform_smoke.sh` ã‚’ CI/ãƒ­ãƒ¼ã‚«ãƒ«ä¸¡å¯¾å¿œã«ã—ã¦ãƒ­ã‚°ã‚’ `logs/platform/` ã¸ä¿å­˜
  - `cargo run --bin stt_burn_in`ï¼ˆãƒ­ãƒ³ã‚°ãƒ©ãƒ³æ¤œè¨¼ãƒ„ãƒ¼ãƒ«ï¼‰ã®å®Ÿè£…ã¨å®Ÿè¡Œè¨˜éŒ²
  - Windows / Linux å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆçµæœã‚’ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¡¨ã«è¿½è¨˜
  - _Requirements: STT-NFR-003, STT-NFR-005, STT-REQ-007_

---

## Implementation Notes

### TDDå®Ÿè£…ãƒ•ãƒ­ãƒ¼
1. **RED**: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«ä½œæˆ
2. **GREEN**: æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™
3. **REFACTOR**: ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š
4. **REPEAT**: æ¬¡ã®ã‚¿ã‚¹ã‚¯ã¸

### é‡è¦ãªåˆ¶ç´„
- **éŒ²éŸ³è²¬å‹™**: Pythonå´ã§ã®éŒ²éŸ³ã¯çµ¶å¯¾ç¦æ­¢ï¼ˆcheck_forbidden_imports.pyã§è‡ªå‹•æ¤œè¨¼ï¼‰
- **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: HuggingFace Hubæ¥ç¶šã¯10ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ãƒãƒ³ãƒ‰ãƒ«ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿…é ˆ
- **å¾Œæ–¹äº’æ›æ€§**: meeting-minutes-coreï¼ˆFakeå®Ÿè£…ï¼‰ã¨ã®äº’æ›æ€§ã‚’å…¨ãƒ†ã‚¹ãƒˆã§æ¤œè¨¼

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: 80%ä»¥ä¸Š
- çµ±åˆãƒ†ã‚¹ãƒˆ: ä¸»è¦ã‚·ãƒŠãƒªã‚ª100%
- E2Eãƒ†ã‚¹ãƒˆ: å…¨è¦ä»¶ã‚«ãƒãƒ¼

---

## Next Steps

ã‚¿ã‚¹ã‚¯ç”Ÿæˆå®Œäº†å¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè£…ã‚’é–‹å§‹ã—ã¾ã™:

```bash
# å…¨ã‚¿ã‚¹ã‚¯ã‚’é †æ¬¡å®Ÿè¡Œ
/kiro:spec-impl meeting-minutes-stt

# ç‰¹å®šã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ
/kiro:spec-impl meeting-minutes-stt 2.1

# è¤‡æ•°ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ
/kiro:spec-impl meeting-minutes-stt 2.1,2.2,2.3
```
